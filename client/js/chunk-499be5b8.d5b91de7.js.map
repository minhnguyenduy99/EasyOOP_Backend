{"version":3,"sources":["webpack:///./node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","webpack:///./node_modules/@babel/runtime/helpers/esm/iterableToArray.js","webpack:///./node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","webpack:///./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","webpack:///./src/views/admin/qanda/page.vue?8afb","webpack:///src/views/admin/qanda/page.vue","webpack:///./src/views/admin/qanda/page.vue?e95b","webpack:///./src/views/admin/qanda/page.vue"],"names":["_arrayWithoutHoles","arr","Array","isArray","arrayLikeToArray","_iterableToArray","iter","Symbol","iterator","Object","from","_nonIterableSpread","TypeError","_toConsumableArray","arrayWithoutHoles","iterableToArray","unsupportedIterableToArray","nonIterableSpread","render","_vm","this","_h","$createElement","_c","_self","attrs","title","scopedSlots","_u","key","fn","on","$on_openQuestionFormButtonClicked","_v","proxy","staticClass","nativeOn","$event","type","indexOf","_k","keyCode","$on_searchTags","model","value","callback","$$v","tagSearch","expression","preventDefault","unusedTags","$on_tagClicked","isLoading","$on_search","searchOptions","showModal","$on_formSubmitted","staticRenderFns","name","components","metaInfo","inject","provide","$api_findQuestions","searchQuestion","data","mounted","getUnusedQuestionTags","then","error","methods","success","$nextTick","$p_loadPage","textArea","tag","tag_id","document","body","appendChild","select","execCommand","removeChild","component"],"mappings":"kKACe,SAASA,EAAmBC,GACzC,GAAIC,MAAMC,QAAQF,GAAM,OAAOG,eAAiBH,G,sECFnC,SAASI,EAAiBC,GACvC,GAAsB,qBAAXC,QAA0BA,OAAOC,YAAYC,OAAOH,GAAO,OAAOJ,MAAMQ,KAAKJ,G,gBCD3E,SAASK,IACtB,MAAM,IAAIC,UAAU,wICGP,SAASC,EAAmBZ,GACzC,OAAOa,EAAkBb,IAAQc,EAAgBd,IAAQe,eAA2Bf,IAAQgB,M,yCCL9F,IAAIC,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,MAAM,CAAC,GAAK,yBAAyB,CAACF,EAAG,gBAAgB,CAACE,MAAM,CAAC,MAAQN,EAAIO,MAAM,KAAO,YAAY,SAAW,OAAOC,YAAYR,EAAIS,GAAG,CAAC,CAACC,IAAI,SAASC,GAAG,WAAW,MAAO,CAACP,EAAG,WAAW,CAACE,MAAM,CAAC,KAAO,aAAa,SAAW,IAAIM,GAAG,CAAC,MAAQZ,EAAIa,oCAAoC,CAACb,EAAIc,GAAG,yBAAyBC,OAAM,MAAS,CAACX,EAAG,MAAM,CAACE,MAAM,CAAC,GAAK,yBAAyB,CAACF,EAAG,MAAM,CAACY,YAAY,4BAA4BV,MAAM,CAAC,GAAK,oBAAoB,CAACF,EAAG,MAAM,CAACY,YAAY,oCAAoC,CAACZ,EAAG,UAAU,CAACY,YAAY,iBAAiBV,MAAM,CAAC,KAAO,OAAO,YAAc,qBAAqBW,SAAS,CAAC,MAAQ,SAASC,GAAQ,OAAIA,EAAOC,KAAKC,QAAQ,QAAQpB,EAAIqB,GAAGH,EAAOI,QAAQ,QAAQ,GAAGJ,EAAOR,IAAI,SAAkB,KAAcV,EAAIuB,eAAeL,KAAUM,MAAM,CAACC,MAAOzB,EAAa,UAAE0B,SAAS,SAAUC,GAAM3B,EAAI4B,UAAUD,GAAKE,WAAW,eAAezB,EAAG,WAAW,CAACE,MAAM,CAAC,KAAO,cAAcM,GAAG,CAAC,MAAQ,SAASM,GAAgC,OAAxBA,EAAOY,iBAAwB9B,EAAIuB,eAAeL,MAAW,CAAClB,EAAIc,GAAG,eAAe,GAAGV,EAAG,MAAM,CAACY,YAAY,0BAA0B,CAACZ,EAAG,WAAW,CAACE,MAAM,CAAC,WAAa,GAAG,KAAON,EAAI+B,WAAW,UAAY,gCAAgCnB,GAAG,CAAC,cAAcZ,EAAIgC,kBAAkB5B,EAAG,YAAY,CAACE,MAAM,CAAC,gBAAe,EAAM,cAAa,GAAMkB,MAAM,CAACC,MAAOzB,EAAa,UAAE0B,SAAS,SAAUC,GAAM3B,EAAIiC,UAAUN,GAAKE,WAAW,gBAAgB,KAAKzB,EAAG,MAAMA,EAAG,eAAe,CAACQ,GAAG,CAAC,OAASZ,EAAIkC,cAAc9B,EAAG,cAAc,CAACY,YAAY,OAAOV,MAAM,CAAC,iBAAiBN,EAAImC,kBAAkB,KAAK/B,EAAG,UAAU,CAACE,MAAM,CAAC,iBAAiB,IAAIkB,MAAM,CAACC,MAAOzB,EAAa,UAAE0B,SAAS,SAAUC,GAAM3B,EAAIoC,UAAUT,GAAKE,WAAW,cAAc,CAACzB,EAAG,uBAAuB,CAACQ,GAAG,CAAC,UAAYZ,EAAIqC,sBAAsB,IAAI,IACr1DC,EAAkB,G,gFCiEtB,GACEC,KAAM,qBACNC,WAAY,CACV,WAAY,WAAhB,wDACI,gBAAiB,WAArB,OACA,iDACI,cAAe,WAAnB,wDACI,uBAAwB,WAA5B,+JACI,eAAgB,WAApB,yDAEEC,SAVF,WAWI,IAAJ,4DACI,MAAO,CACLlC,MAAN,IAGEmC,OAAQ,CAAC,eACTC,QAjBF,WAkBI,MAAO,CACLC,mBAAoB3C,KAAK4C,iBAG7BC,KAAM,WAAR,OACA,0BACA,aACA,aACA,mBACA,cACA,kBACA,eAEEC,QAAS,WAAX,WACI9C,KAAK+C,sBAAsB,IAAIC,MAAK,SAAxC,SACA,mBACM,IAAIC,EAAJ,CAFN,IAKA,sBACM,EAAN,mBACA,qDAGEC,QAAS,OAAX,OAAW,CAAX,kBACA,wBACA,iBACA,wBACA,sBAJA,IAOIjB,WAPJ,SAOA,GACMjC,KAAKkC,cAAgB,OAA3B,OAA2B,CAA3B,OAEItB,kCAVJ,WAWMZ,KAAKmC,WAAY,GAEnBC,kBAbJ,SAaA,cACA,YACWe,IAGLnD,KAAKmC,WAAY,EACjBnC,KAAKoD,WAAU,WACb,EAAR,wBAGI9B,eAvBJ,WAuBA,WACMtB,KAAKqD,aAAY,GACjBrD,KAAK+C,sBAAsB,CAAjC,8CACA,mBACYE,IAGJ,EAAR,gBACQ,EAAR,oBACQ,EAAR,0BAGIlB,eAnCJ,SAmCA,GACM,IAAN,qCACMuB,EAAS9B,MAAQ+B,EAAIC,OACrBC,SAASC,KAAKC,YAAYL,GAC1BA,EAASM,SACTH,SAASI,YAAY,QACrBJ,SAASC,KAAKI,YAAYR,GAC1B,EAAN,6DCtJ4W,I,YCOxWS,EAAY,eACd,EACAjE,EACAuC,GACA,EACA,KACA,KACA,MAIa,aAAA0B,E","file":"js/chunk-499be5b8.d5b91de7.js","sourcesContent":["import arrayLikeToArray from \"./arrayLikeToArray.js\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import arrayWithoutHoles from \"./arrayWithoutHoles.js\";\nimport iterableToArray from \"./iterableToArray.js\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nimport nonIterableSpread from \"./nonIterableSpread.js\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"common-question-page\"}},[_c('admin-content',{attrs:{\"title\":_vm.title,\"icon\":\"clipboard\",\"iconPack\":\"fas\"},scopedSlots:_vm._u([{key:\"action\",fn:function(){return [_c('b-button',{attrs:{\"type\":\"is-primary\",\"outlined\":\"\"},on:{\"click\":_vm.$on_openQuestionFormButtonClicked}},[_vm._v(\" Tạo câu hỏi mới \")])]},proxy:true}])},[_c('div',{attrs:{\"id\":\"common-question-area\"}},[_c('div',{staticClass:\"py-2 ha-vertical-layout-6\",attrs:{\"id\":\"unused-tag-list\"}},[_c('div',{staticClass:\"input-group ha-vertical-layout-7\"},[_c('b-input',{staticClass:\"is-flex-grow-1\",attrs:{\"icon\":\"tags\",\"placeholder\":\"Tìm kiếm nhãn dán\"},nativeOn:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.$on_searchTags($event)}},model:{value:(_vm.tagSearch),callback:function ($$v) {_vm.tagSearch=$$v},expression:\"tagSearch\"}}),_c('b-button',{attrs:{\"type\":\"is-primary\"},on:{\"click\":function($event){$event.preventDefault();return _vm.$on_searchTags($event)}}},[_vm._v(\"Tìm kiếm\")])],1),_c('div',{staticClass:\"buttons is-flex-grow-0\"},[_c('tag-list',{attrs:{\"headerless\":\"\",\"tags\":_vm.unusedTags,\"emptyText\":\"Không có nhãn dán có sẵn nào\"},on:{\"tag-clicked\":_vm.$on_tagClicked}}),_c('b-loading',{attrs:{\"is-full-page\":false,\"can-cancel\":true},model:{value:(_vm.isLoading),callback:function ($$v) {_vm.isLoading=$$v},expression:\"isLoading\"}})],1)]),_c('hr'),_c('qanda-search',{on:{\"search\":_vm.$on_search}}),_c('qanda-table',{staticClass:\"mt-4\",attrs:{\"search-options\":_vm.searchOptions}})],1)]),_c('b-modal',{attrs:{\"has-modal-card\":\"\"},model:{value:(_vm.showModal),callback:function ($$v) {_vm.showModal=$$v},expression:\"showModal\"}},[_c('create-question-form',{on:{\"submitted\":_vm.$on_formSubmitted}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div id=\"common-question-page\">\r\n    <admin-content :title=\"title\" icon=\"clipboard\" iconPack=\"fas\">\r\n      <template #action>\r\n        <b-button\r\n          type=\"is-primary\"\r\n          outlined\r\n          @click=\"$on_openQuestionFormButtonClicked\"\r\n        >\r\n          Tạo câu hỏi mới\r\n        </b-button>\r\n      </template>\r\n      <div id=\"common-question-area\">\r\n        <div id=\"unused-tag-list\" class=\"py-2 ha-vertical-layout-6\">\r\n          <div class=\"input-group ha-vertical-layout-7\">\r\n            <b-input\r\n              class=\"is-flex-grow-1\"\r\n              v-model=\"tagSearch\"\r\n              @keyup.enter.native=\"$on_searchTags\"\r\n              icon=\"tags\"\r\n              placeholder=\"Tìm kiếm nhãn dán\"\r\n            />\r\n            <b-button type=\"is-primary\" @click.prevent=\"$on_searchTags\"\r\n              >Tìm kiếm</b-button\r\n            >\r\n          </div>\r\n          <div class=\"buttons is-flex-grow-0\">\r\n            <tag-list\r\n              headerless\r\n              :tags=\"unusedTags\"\r\n              @tag-clicked=\"$on_tagClicked\"\r\n              emptyText=\"Không có nhãn dán có sẵn nào\"\r\n            />\r\n            <!-- <b-button\r\n              size=\"is-small\"\r\n              type=\"is-primary-light\"\r\n              class=\"px-2 py-5 has-text-left\"\r\n              outlined\r\n              v-for=\"tag in unusedTags\"\r\n              :key=\"tag.id\"\r\n              @click=\"$on_tagClicked(tag)\"\r\n            >\r\n              <span class=\"is-size-7 is-block\">{{ tag.tag_id }}</span>\r\n              <span class=\"has-text-weight-bold\">{{ tag.tag_value }}</span>\r\n            </b-button> -->\r\n            <b-loading\r\n              :is-full-page=\"false\"\r\n              v-model=\"isLoading\"\r\n              :can-cancel=\"true\"\r\n            ></b-loading>\r\n          </div>\r\n        </div>\r\n        <hr />\r\n        <qanda-search @search=\"$on_search\" />\r\n        <qanda-table :search-options=\"searchOptions\" class=\"mt-4\" />\r\n      </div>\r\n    </admin-content>\r\n    <b-modal v-model=\"showModal\" has-modal-card>\r\n      <create-question-form @submitted=\"$on_formSubmitted\" />\r\n    </b-modal>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapActions } from \"vuex\";\r\nimport { ToastNotifier } from \"@/utils\";\r\nexport default {\r\n  name: \"CommonQuestionPage\",\r\n  components: {\r\n    \"tag-list\": () => import(\"@/components/tag-list.vue\"),\r\n    \"admin-content\": () =>\r\n      import(\"../components/admin-content/admin-content.vue\"),\r\n    \"qanda-table\": () => import(\"./qanda-table\"),\r\n    \"create-question-form\": () => import(\"./create-question.form\"),\r\n    \"qanda-search\": () => import(\"./qanda-search\")\r\n  },\r\n  metaInfo() {\r\n    const title = `Quản lí câu hỏi - ${this.$appConfig.VUE_APP_NAME}`;\r\n    return {\r\n      title\r\n    };\r\n  },\r\n  inject: [\"$p_loadPage\"],\r\n  provide() {\r\n    return {\r\n      $api_findQuestions: this.searchQuestion\r\n    };\r\n  },\r\n  data: () => ({\r\n    title: \"Danh sách câu hỏi\",\r\n    tagSearch: \"\",\r\n    showModal: false,\r\n    searchOptions: null,\r\n    unusedTags: [],\r\n    unusedTagsCount: 0,\r\n    isLoading: false\r\n  }),\r\n  mounted: function() {\r\n    this.getUnusedQuestionTags({}).then(result => {\r\n      const { error, data } = result;\r\n      if (error) {\r\n        return;\r\n      }\r\n      const { count, results } = data;\r\n      this.unusedTagsCount = count;\r\n      this.unusedTags.push(...results);\r\n    });\r\n  },\r\n  methods: {\r\n    ...mapActions(\"QANDA\", [\r\n      \"searchQuestion\",\r\n      \"getUnusedQuestionTags\",\r\n      \"searchUnusedTags\"\r\n    ]),\r\n\r\n    $on_search(searchOptions) {\r\n      this.searchOptions = { ...searchOptions };\r\n    },\r\n    $on_openQuestionFormButtonClicked() {\r\n      this.showModal = true;\r\n    },\r\n    $on_formSubmitted(result) {\r\n      const { success } = result;\r\n      if (!success) {\r\n        return;\r\n      }\r\n      this.showModal = false;\r\n      this.$nextTick(() => {\r\n        this.searchOptions = null;\r\n      });\r\n    },\r\n    $on_searchTags() {\r\n      this.$p_loadPage(true);\r\n      this.getUnusedQuestionTags({ search: this.tagSearch }).then(result => {\r\n        const { error, data } = result;\r\n        if (error) {\r\n          return;\r\n        }\r\n        this.$p_loadPage(false);\r\n        this.unusedTags.length = 0;\r\n        this.unusedTags = data.results;\r\n      });\r\n    },\r\n    $on_tagClicked(tag) {\r\n      const textArea = document.createElement(\"textarea\");\r\n      textArea.value = tag.tag_id;\r\n      document.body.appendChild(textArea);\r\n      textArea.select();\r\n      document.execCommand(\"copy\");\r\n      document.body.removeChild(textArea);\r\n      ToastNotifier.success(this.$buefy.toast, \"Sao chép nội dung nhãn\");\r\n    }\r\n  }\r\n};\r\n</script>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./page.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./page.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./page.vue?vue&type=template&id=b424bdda&\"\nimport script from \"./page.vue?vue&type=script&lang=js&\"\nexport * from \"./page.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}