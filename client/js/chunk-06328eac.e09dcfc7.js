(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-06328eac"],{"10f9":function(t,s,e){"use strict";e.r(s);var i=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{attrs:{id:"post-detail-page"}},[[e("div",{attrs:{id:"create-post-page"}},[e("admin-content",{attrs:{title:"Chi tiết bài viết",icon:"pencil-alt",iconPack:"fas"}},[t.post?e("div",[t.post?e("breadcrumb",{attrs:{titles:t.breadcumbInfo,active:1}}):t._e(),e("detail-post-view",{attrs:{post:t.post}})],1):t._e()])],1)]],2)},a=[],o=e("5530"),n=(e("d3b7"),e("3ca3"),e("ddb0"),e("99af"),e("2f62")),r=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{attrs:{id:"detail-post-view"}},[e("div",{staticClass:"adjacent-post-navigation"},[e("div",{staticClass:"post-navigate"},[t.post.previous_post_id?e("router-link",{attrs:{to:t.$_getPostDetailPageURL(t.post.previous_post_id)}},[t._v("<< Bài viết trước")]):t._e()],1),e("div",{staticClass:"post-navigate"},[t.post.next_post_id?e("router-link",{attrs:{to:t.$_getPostDetailPageURL(t.post.next_post_id)}},[t._v("Bài viết sau >>")]):t._e()],1)]),e("div",{staticClass:"py-4"},[e("div",{staticClass:"post-title mb-5"},[e("span",{staticClass:"is-size-4 has-text-weight-semibold"},[t._v(t._s(t.post.post_title))])]),e("div",{staticClass:"post-detail-container ha-vertical-layout-6"},[e("div",{staticClass:"post-view-left ha-vertical-layout-6"},[e("div",{staticClass:"post-view-field--horizontal"},[e("span",{staticClass:"post-view-field--label"},[t._v("ID bài viết: ")]),e("span",{staticClass:"post-view-field--value"},[t._v(t._s(t.post.post_id))])]),e("div",{staticClass:"post-view-field--horizontal"},[e("span",{staticClass:"post-view-field--label"},[t._v("Ngày tạo")]),e("span",{staticClass:"post-view-field--value"},[t._v(t._s(t.createDateInStr))])]),e("div",{staticClass:"post-view-field--horizontal"},[e("span",{staticClass:"post-view-field--label"},[t._v("Chủ đề")]),e("span",{staticClass:"post-view-field--value"},[t._v(t._s(t.post.topic_title))])]),e("div",{staticClass:"post-view-field--horizontal"},[e("span",{staticClass:"post-view-field--label"},[t._v("Tình trạng: ")]),e("span",{class:["post-view-field--value","has-text-weight-bold",t.isPostActive?"has-text-success":"has-text-warning"]},[t._v(" "+t._s(t.postStatus)+" ")])]),e("div",{staticClass:"post-view-field--horizontal"},[e("span",{staticClass:"post-view-field--label"},[t._v("URL bài viết:")]),e("span",{staticClass:"post-view-field--value"},[e("a",{staticClass:"post-url",attrs:{href:t.postURL}},[t._v(t._s(t.postURL))])])])]),e("div",{staticClass:"post-view-right--horizontal"},[e("div",{staticClass:"post-view-field"},[e("span",{staticClass:"post-view-field--label"},[t._v("Ảnh bìa")]),e("b-image",{staticClass:"post-thumbnail mt-3",attrs:{src:t.post.thumbnail_file_url,width:"200px"}})],1)])])]),e("div",{staticClass:"post-view-actions py-3 ha-vertical-layout-tablet ha-vertical-layout-7"},[t.post.is_pending?e("b-tooltip",{attrs:{label:"Bài viết này đang chờ duyệt"}},[e("b-button",{attrs:{type:"is-primary","icon-left":"pen",tag:"router-link",to:t.$_getEditPostViewRoute(),disabled:t.post.is_pending}},[t._v("Chỉnh sửa")])],1):e("b-button",{attrs:{type:"is-primary","icon-left":"pen",tag:"router-link",to:t.$_getEditPostViewRoute(),disabled:t.post.is_pending}},[t._v("Chỉnh sửa")]),e("b-button",{attrs:{type:"is-primary","icon-left":"eye"},on:{click:function(s){t.showPost=!0}}},[t._v("Xem trước")]),e("b-button",{attrs:{type:"is-danger",outlined:"","icon-left":"trash-alt"},on:{click:t.$on_deleteButtonClicked}},[t._v("Xóa")])],1),e("b-modal",{attrs:{scroll:"keep"},model:{value:t.showPost,callback:function(s){t.showPost=s},expression:"showPost"}},[e("div",{staticClass:"card is-page-responsive py-6"},[e("post-preview",{attrs:{contentUrl:t.post.content_file_url}})],1)])],1)},l=[],c=e("ed08"),p={components:{"post-preview":function(){return e.e("chunk-072e95f0").then(e.bind(null,"4625"))}},inject:["$p_loadPage"],props:{post:Object},computed:{createDateInStr:function(){return new Date(this.post.created_date).toLocaleDateString("en-GB")},postURL:function(){return"".concat(this.$appConfig.VUE_APP_HOST,"/posts/").concat(this.post.post_id)},isPostActive:function(){return 0===this.post.post_status},postStatus:function(){switch(this.post.post_status){case 0:return"Đã duyệt";case 1:return"Đang duyệt";default:return"Lỗi"}}},data:function(){return{showPost:!1}},methods:Object(o["a"])(Object(o["a"])({},Object(n["b"])("POST",["creator_deletePost"])),{},{$on_deleteButtonClicked:function(){var t=this;this.$buefy.dialog.confirm({title:"Xóa bài viết",message:"Bạn chắc chắc muốn xóa bài viết ?",confirmText:"Đồng ý",cancelText:"Hủy bỏ",type:"is-danger",onConfirm:function(){setTimeout(function(){var t=this;this.$p_loadPage(!0),this.creator_deletePost(this.post.post_id).then((function(s){var e=s.error;s.data;if(t.$p_loadPage(!1),e){var i=t.$serverLocaler.getMessage(e.errorType);c["e"].error(t.$buefy.toast,i)}else c["e"].success(t.$buefy.toast,"Bài viết được xóa"),t.$router.push({name:"ListPosts"})}))}.bind(t),500)}})},$_getPostDetailPageURL:function(t){return{name:"AdminPostDetail",params:{post_id:t}}},$_getEditPostViewRoute:function(){return{name:"EditPost",params:{post_id:this.post.post_id}}}})},d=p,u=(e("442e"),e("2877")),v=Object(u["a"])(d,r,l,!1,null,"02dadad4",null),f=v.exports,h={name:"PostDetailPage",components:{DetailPostView:f,"admin-content":function(){return e.e("chunk-193a4f2c").then(e.bind(null,"8e2f"))},breadcrumb:function(){return Promise.resolve().then(e.bind(null,"290e"))}},metaInfo:function(){var t,s="".concat(null===(t=this.post)||void 0===t?void 0:t.post_title," | Chi tiết bài viết - ").concat(this.$appConfig.VUE_APP_NAME);return{title:s}},inject:["$p_loadPage"],props:{postId:String},data:function(){return{post:null}},mounted:function(){var t=this;this.$p_loadPage(!0),this.getPostById(this.postId).then((function(s){t.$p_loadPage(!1);var e=s.error,i=s.data;e?t.$router.push({name:"ListPosts"}):t.post=i}))},watch:{postId:function(t){var s=this;t&&this.getPostById(this.postId).then((function(t){var e=t.error,i=t.data;e||(s.post=i)}))}},computed:{breadcumbInfo:function(){return[{value:"Danh sách bài viết",to:{name:"ListPosts"}},{value:this.post.post_title}]}},methods:Object(o["a"])({},Object(n["b"])("POST",["getPostById"]))},b=h,_=Object(u["a"])(b,i,a,!1,null,null,null);s["default"]=_.exports},2909:function(t,s,e){"use strict";e.d(s,"a",(function(){return l}));var i=e("6b75");function a(t){if(Array.isArray(t))return Object(i["a"])(t)}e("a4d3"),e("e01a"),e("d3b7"),e("d28b"),e("3ca3"),e("ddb0"),e("a630");function o(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}var n=e("06c5");function r(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function l(t){return a(t)||o(t)||Object(n["a"])(t)||r()}},"442e":function(t,s,e){"use strict";e("a84b")},a84b:function(t,s,e){}}]);
//# sourceMappingURL=chunk-06328eac.e09dcfc7.js.map