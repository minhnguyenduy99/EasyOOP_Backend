{"version":3,"sources":["webpack:///./src/components/login-form/google-login-button.vue?2788","webpack:///./src/components/login-form/init-gg-sdk.js","webpack:///src/components/login-form/google-login-button.vue","webpack:///./src/components/login-form/google-login-button.vue?b810","webpack:///./src/components/login-form/google-login-button.vue"],"names":["auth2","render","_vm","this","_h","$createElement","_c","_self","_g","_b","attrs","on","$on_clicked","$attrs","$listeners","_v","staticRenderFns","signIn","Promise","resolve","reject","scope","prompt","then","result","catch","err","console","log","initGoogleSdk","GOOGLE_CLIENT_ID","APP_CONFIG","VUE_APP_GOOGLE_APP_ID","gapi","load","init","client_id","name","inheritAttrs","mounted","methods","payload","ggUser","error","component"],"mappings":"uHAAA,ICGIA,EDHAC,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,WAAWJ,EAAIM,GAAGN,EAAIO,GAAG,CAACC,MAAM,CAAC,GAAK,uBAAuB,KAAO,YAAY,YAAY,MAAM,YAAY,SAAS,IAAM,KAAKC,GAAG,CAAC,MAAQT,EAAIU,cAAc,WAAWV,EAAIW,QAAO,GAAOX,EAAIY,YAAY,CAACZ,EAAIa,GAAG,eACpTC,EAAkB,G,gDCGf,SAASC,IACd,OAAO,IAAIC,SAAQ,SAACC,EAASC,GAC3BpB,EACGiB,OAAO,CACNI,MAAO,gBACPC,OAAQ,mBAETC,MAAK,SAAAC,GACJL,EAAQK,MAETC,OAAM,SAAAC,GACLC,QAAQC,IAAIF,GACZN,EAAOM,SAKR,IAAMG,EAAgB,WAC3B,IAAMC,EAAmBC,OAAWC,sBAEpCC,KAAKC,KAAK,SAAS,WAEjBlC,EAAQiC,KAAKjC,MAAMmC,KAAK,CACtBC,UAAWN,EAEXT,MAAO,sBCVb,GACEgB,KAAM,oBACNC,cAAc,EACdC,QAAS,WACP,KAEFC,QAAS,OAAX,OAAW,CAAX,kBACA,iDADA,IAEI5B,YAFJ,WAEA,WACMK,IAASM,MAAK,SAApB,GACQ,EAAR,sBACUkB,QAASC,IACnB,sBACA,UACcC,EACF,EAAZ,2BAGU,EAAV,8BCrC4W,I,YCOxWC,EAAY,eACd,EACA3C,EACAe,GACA,EACA,KACA,KACA,MAIa,aAAA4B,E","file":"js/chunk-2d0deb33.5b85a171.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-button',_vm._g(_vm._b({attrs:{\"id\":\"google-signin-button\",\"type\":\"is-google\",\"icon-pack\":\"fab\",\"icon-left\":\"google\",\"tag\":\"a\"},on:{\"click\":_vm.$on_clicked}},'b-button',_vm.$attrs,false),_vm.$listeners),[_vm._v(\" GOOGLE \")])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { APP_CONFIG } from \"@/utils\";\r\n\r\n/* eslint-disable no-undef */\r\nvar auth2;\r\nexport function signIn() {\r\n  return new Promise((resolve, reject) => {\r\n    auth2\r\n      .signIn({\r\n        scope: \"profile email\",\r\n        prompt: \"select_account\"\r\n      })\r\n      .then(result => {\r\n        resolve(result);\r\n      })\r\n      .catch(err => {\r\n        console.log(err);\r\n        reject(err);\r\n      });\r\n  });\r\n}\r\n\r\nexport const initGoogleSdk = () => {\r\n  const GOOGLE_CLIENT_ID = APP_CONFIG.VUE_APP_GOOGLE_APP_ID;\r\n\r\n  gapi.load(\"auth2\", function() {\r\n    // Retrieve the singleton for the GoogleAuth library and set up the client.\r\n    auth2 = gapi.auth2.init({\r\n      client_id: GOOGLE_CLIENT_ID,\r\n      // Request scopes in addition to 'profile' and 'email'\r\n      scope: \"profile email\"\r\n    });\r\n  });\r\n};\r\n","<template>\r\n  <b-button\r\n    id=\"google-signin-button\"\r\n    type=\"is-google\"\r\n    v-on=\"$listeners\"\r\n    v-bind=\"$attrs\"\r\n    icon-pack=\"fab\"\r\n    icon-left=\"google\"\r\n    tag=\"a\"\r\n    @click=\"$on_clicked\"\r\n  >\r\n    GOOGLE\r\n  </b-button>\r\n</template>\r\n\r\n<script>\r\nimport { mapActions } from \"vuex\";\r\nimport { initGoogleSdk, signIn } from \"./init-gg-sdk\";\r\n\r\nexport default {\r\n  name: \"GoogleLoginButton\",\r\n  inheritAttrs: false,\r\n  mounted: function() {\r\n    initGoogleSdk();\r\n  },\r\n  methods: {\r\n    ...mapActions(\"AUTH\", [\"loginWithGoogleToken\"]),\r\n    $on_clicked() {\r\n      signIn().then(ggUser => {\r\n        this.loginWithGoogleToken({\r\n          payload: ggUser\r\n        }).then(result => {\r\n          const { error } = result;\r\n          if (error) {\r\n            this.$emit(\"logined\", { error });\r\n            return;\r\n          }\r\n          this.$emit(\"logined\", {});\r\n        });\r\n      });\r\n    }\r\n  }\r\n};\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./google-login-button.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./google-login-button.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./google-login-button.vue?vue&type=template&id=5dff8c3a&\"\nimport script from \"./google-login-button.vue?vue&type=script&lang=js&\"\nexport * from \"./google-login-button.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}