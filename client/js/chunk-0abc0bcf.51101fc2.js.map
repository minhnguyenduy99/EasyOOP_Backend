{"version":3,"sources":["webpack:///./src/views/test-detail/page.vue?8530","webpack:///src/views/test-detail/page.vue","webpack:///./src/views/test-detail/page.vue?31fd","webpack:///./src/views/test-detail/page.vue?15e1","webpack:///./src/views/test-detail/page.vue?658e","webpack:///./src/views/test-detail/mixins/session-state.mixin.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","staticClass","test","state","on","$on_testStarted","sentences","selectedOrder","sentencesPerGroup","currentAnswerGroup","currentPage","pageCount","_e","isFinished","testResult","$event","resultSaved","staticRenderFns","name","components","mixins","inject","metaInfo","title","meta","props","testId","String","sessionId","provide","$_navigateToPage","$_navigatePage","bind","data","created","$_updateTest","then","mounted","$_registerWindowUnloadEvent","$on","$_getTestResultBySession","$endSession","$on_sessionEnd","beforeDestroy","$_unregisterWindowUnloadEvent","beforeRouteLeave","routeTo","isOnInit","next","to","$_callDialogConfirmForRouteChange","watch","TEST_SESSION_STATES","INIT","computed","methods","$p_loadPage","navigateToPage","page","error","$startSession","viewer_createTestResult","test_id","results","totalAnswers","save","getTestResultBySessionId","window","addEventListener","$_setupConfirmDialog","removeEventListener","e","preventDefault","returnValue","$buefy","dialog","confirm","message","confirmText","cancelText","type","hasIcon","onConfirm","onCancel","component","sessionStateInjector","Number","isOnProgress","ON_PROGRESS","FINISHED","sessionStateProvider","Vue","$getState","$emit"],"mappings":"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","file":"js/chunk-0abc0bcf.51101fc2.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.test)?_c('div',{attrs:{\"id\":\"test-detail-page\"}},[_c('div',{staticClass:\"test-detail-container\"},[_c('div',{staticClass:\"ha-vertical-layout-7\"},[_c('test-detail',{attrs:{\"test\":_vm.test,\"state\":_vm.state},on:{\"start\":_vm.$on_testStarted}}),_c('div',{staticClass:\"card\"},[_c('div',{staticClass:\"card-content\"},[(_vm.isOnProgress)?_c('sentence-panel',{attrs:{\"sentences\":_vm.sentences,\"selectedOrder\":_vm.selectedOrder,\"sentencesPerGroup\":_vm.sentencesPerGroup,\"currentAnswerGroup\":_vm.currentAnswerGroup,\"currentPage\":_vm.currentPage,\"pageCount\":_vm.pageCount}}):(_vm.isFinished)?_c('sentence-panel',{attrs:{\"sentences\":_vm.sentences,\"showAnswer\":true,\"selectedOrder\":_vm.selectedOrder,\"sentencesPerGroup\":_vm.sentencesPerGroup,\"currentAnswerGroup\":_vm.currentAnswerGroup,\"currentPage\":_vm.currentPage,\"pageCount\":_vm.pageCount}}):_vm._e()],1)])],1),_c('div',[_c('div',{staticClass:\"ha-vertical-layout-7\",attrs:{\"id\":\"sticky-test-info\"}},[(!_vm.isFinished)?_c('test-session-info',{attrs:{\"test\":_vm.test,\"state\":_vm.state,\"selectedOrder\":_vm.selectedOrder},on:{\"update:selectedOrder\":function($event){_vm.selectedOrder=$event},\"update:selected-order\":function($event){_vm.selectedOrder=$event}}}):(_vm.testResult)?_c('test-result-info',{attrs:{\"testResult\":_vm.testResult,\"state\":_vm.state,\"selectedOrder\":_vm.selectedOrder},on:{\"update:selectedOrder\":function($event){_vm.selectedOrder=$event},\"update:selected-order\":function($event){_vm.selectedOrder=$event},\"result-saved\":function($event){_vm.resultSaved = true}}}):_vm._e()],1)])])]):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div v-if=\"test\" id=\"test-detail-page\">\r\n    <div class=\"test-detail-container\">\r\n      <div class=\"ha-vertical-layout-7\">\r\n        <test-detail :test=\"test\" @start=\"$on_testStarted\" :state=\"state\" />\r\n        <div class=\"card\">\r\n          <div class=\"card-content\">\r\n            <sentence-panel\r\n              v-if=\"isOnProgress\"\r\n              :sentences=\"sentences\"\r\n              :selectedOrder=\"selectedOrder\"\r\n              :sentencesPerGroup=\"sentencesPerGroup\"\r\n              :currentAnswerGroup=\"currentAnswerGroup\"\r\n              :currentPage=\"currentPage\"\r\n              :pageCount=\"pageCount\"\r\n            />\r\n            <sentence-panel\r\n              v-else-if=\"isFinished\"\r\n              :sentences=\"sentences\"\r\n              :showAnswer=\"true\"\r\n              :selectedOrder=\"selectedOrder\"\r\n              :sentencesPerGroup=\"sentencesPerGroup\"\r\n              :currentAnswerGroup=\"currentAnswerGroup\"\r\n              :currentPage=\"currentPage\"\r\n              :pageCount=\"pageCount\"\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div>\r\n        <div id=\"sticky-test-info\" class=\"ha-vertical-layout-7\">\r\n          <test-session-info\r\n            v-if=\"!isFinished\"\r\n            :test=\"test\"\r\n            :state=\"state\"\r\n            :selectedOrder.sync=\"selectedOrder\"\r\n          />\r\n          <test-result-info\r\n            v-else-if=\"testResult\"\r\n            :testResult=\"testResult\"\r\n            :state=\"state\"\r\n            :selectedOrder.sync=\"selectedOrder\"\r\n            @result-saved=\"resultSaved = true\"\r\n          />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Vue from \"vue\";\r\nimport { mapActions, mapGetters } from \"vuex\";\r\nimport { sessionStateProvider } from \"./mixins/session-state.mixin\";\r\n\r\nexport default {\r\n  name: \"TestDetailPage\",\r\n  components: {\r\n    \"test-detail\": () => import(\"./test-detail-card\"),\r\n    \"test-session-info\": () => import(\"./test-session-info\"),\r\n    \"test-result-info\": () => import(\"./test-result-info\"),\r\n    \"sentence-panel\": () => import(\"@/components/sentence-panel/sentence-panel\")\r\n  },\r\n  mixins: [sessionStateProvider(Vue)],\r\n  inject: [\"$p_loadPage\"],\r\n  metaInfo() {\r\n    const title = `Làm bài test: ${this.test?.title} - ${this.$appConfig.VUE_APP_NAME}`;\r\n    return {\r\n      title,\r\n      meta: [\r\n        {\r\n          property: \"og:title\",\r\n          content: title\r\n        },\r\n        {\r\n          property: \"og:image\",\r\n          content:\r\n            \"https://res.cloudinary.com/dml8e1w0z/image/upload/v1625112588/oop-learning-helper/white_3_vwauzw.png\"\r\n        }\r\n      ]\r\n    };\r\n  },\r\n  props: {\r\n    testId: String,\r\n    sessionId: String\r\n  },\r\n  provide() {\r\n    return {\r\n      $_navigateToPage: this.$_navigatePage.bind(this)\r\n    };\r\n  },\r\n  data: () => ({\r\n    TEST_SESSION_STATES: {\r\n      INIT: 0,\r\n      ON_PROGRESS: 1,\r\n      FINISHED: 2\r\n    },\r\n    SENTENCES_PER_PAGE: 10,\r\n    test: null,\r\n    testResult: null,\r\n    sentences: [],\r\n    selectedOrder: null,\r\n    routeTo: null,\r\n    resultSaved: false,\r\n    isSentencePanelLoading: false\r\n  }),\r\n  created: function() {\r\n    this.$_updateTest().then(() => {\r\n      if (!this.sessionId) {\r\n        return;\r\n      }\r\n      this.$_navigatePage(1);\r\n    });\r\n  },\r\n  mounted: function() {\r\n    this.$_registerWindowUnloadEvent();\r\n    if (this.sessionId) {\r\n      this.$on(\"session-ended\", this.$_getTestResultBySession);\r\n      this.$endSession();\r\n      return;\r\n    }\r\n    this.$on(\"session-ended\", this.$on_sessionEnd);\r\n  },\r\n  beforeDestroy() {\r\n    this.$_unregisterWindowUnloadEvent();\r\n  },\r\n  beforeRouteLeave: function(to, from, next) {\r\n    if (this.routeTo || this.isOnInit || this.resultSaved) {\r\n      next();\r\n      return;\r\n    }\r\n    this.routeTo = to;\r\n    this.$_callDialogConfirmForRouteChange();\r\n  },\r\n  watch: {\r\n    testId() {\r\n      this.state = this.TEST_SESSION_STATES.INIT;\r\n      this.$_updateTest().then(() => {\r\n        if (!this.sessionId) {\r\n          return;\r\n        }\r\n        this.$_navigatePage(1);\r\n      });\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapGetters(\"VIEWER_TEST\", [\r\n      \"sentencesPerGroup\",\r\n      \"currentAnswerGroup\",\r\n      \"currentPage\",\r\n      \"pageCount\",\r\n      \"totalAnswers\"\r\n    ])\r\n  },\r\n  methods: {\r\n    ...mapActions(\"VIEWER_TEST\", [\r\n      \"getTestById\",\r\n      \"viewer_createTestResult\",\r\n      \"getTestResultBySessionId\",\r\n      \"navigateToPage\"\r\n    ]),\r\n\r\n    async $_updateTest() {\r\n      return this.getTestById(this.testId).then(result => {\r\n        const { error, data } = result;\r\n        if (error) {\r\n          this.$router.push({ name: \"PageNotFound\" });\r\n          return;\r\n        }\r\n        this.test = data;\r\n      });\r\n    },\r\n    $_navigatePage(page) {\r\n      this.$p_loadPage(true);\r\n      return this.navigateToPage({\r\n        page\r\n      }).then(result => {\r\n        this.$p_loadPage(false);\r\n        const { error, data } = result;\r\n        if (error) {\r\n          return;\r\n        }\r\n        const { results } = data;\r\n        this.sentences.length = 0;\r\n        this.sentences = results;\r\n      });\r\n    },\r\n    $on_testStarted() {\r\n      this.$startSession();\r\n      this.$_navigatePage(1);\r\n    },\r\n    $on_sessionEnd() {\r\n      this.viewer_createTestResult({\r\n        test_id: this.testId,\r\n        results: this.totalAnswers,\r\n        save: false\r\n      }).then(result => {\r\n        const { error, data } = result;\r\n        if (error) {\r\n          return;\r\n        }\r\n        const { data: testResult } = data;\r\n        this.testResult = testResult;\r\n        this.$_navigatePage(1);\r\n      });\r\n    },\r\n    $_getTestResultBySession() {\r\n      this.getTestResultBySessionId(this.sessionId).then(result => {\r\n        const { error, data } = result;\r\n        if (error) {\r\n          this.$router.push({ name: \"PageNotFound\" });\r\n          return;\r\n        }\r\n        const { data: testResult } = data;\r\n        if (testResult.test_id !== this.testId) {\r\n          this.$router.push({ name: \"Home\" });\r\n        }\r\n        this.testResult = testResult;\r\n      });\r\n    },\r\n    $_registerWindowUnloadEvent() {\r\n      window.addEventListener(\"beforeunload\", this.$_setupConfirmDialog);\r\n    },\r\n    $_unregisterWindowUnloadEvent() {\r\n      window.removeEventListener(\"beforeunload\", this.$_setupConfirmDialog);\r\n    },\r\n    $_setupConfirmDialog(e) {\r\n      if (this.isOnInit || this.resultSaved) {\r\n        return;\r\n      }\r\n      e.preventDefault();\r\n      e.returnValue = \"Bạn muốn rời trang này ?\";\r\n      return \"Bạn muốn rời trang này ?\";\r\n    },\r\n    $_callDialogConfirmForRouteChange() {\r\n      this.$buefy.dialog.confirm({\r\n        title: \"CHUYỂN TRANG\",\r\n        message:\r\n          \"Bạn còn đang trong tình trạng làm bài hoặc chưa lưu kết quả<br /><strong>Bạn chắc chắn muốn rời khỏi trang này ?</strong>\",\r\n        confirmText: \"Rời trang\",\r\n        cancelText: \"Ở lại\",\r\n        type: \"is-danger\",\r\n        hasIcon: true,\r\n        onConfirm: () => this.$router.push(this.routeTo),\r\n        onCancel: () => (this.routeTo = null)\r\n      });\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n@import \"./style.scss\";\r\n\r\n#test-detail-page {\r\n  scroll-behavior: smooth;\r\n}\r\n\r\n.test-detail-container {\r\n  display: grid;\r\n  grid-template-columns: 1fr;\r\n  row-gap: 1rem;\r\n  @include tablet {\r\n    grid-template-columns: 1fr auto;\r\n    column-gap: 1rem;\r\n  }\r\n}\r\n\r\n#sticky-test-info {\r\n  position: sticky;\r\n  top: 100px;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./page.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./page.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./page.vue?vue&type=template&id=0e471044&scoped=true&\"\nimport script from \"./page.vue?vue&type=script&lang=js&\"\nexport * from \"./page.vue?vue&type=script&lang=js&\"\nimport style0 from \"./page.vue?vue&type=style&index=0&id=0e471044&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0e471044\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./page.vue?vue&type=style&index=0&id=0e471044&scoped=true&lang=scss&\"","export const sessionStateInjector = () => ({\r\n  inject: [\"$startSession\", \"$endSession\", \"TEST_SESSION_STATES\"],\r\n  props: {\r\n    state: Number\r\n  },\r\n  computed: {\r\n    isOnInit() {\r\n      return this.state === this.TEST_SESSION_STATES.INIT;\r\n    },\r\n    isOnProgress() {\r\n      return this.state === this.TEST_SESSION_STATES.ON_PROGRESS;\r\n    },\r\n    isFinished() {\r\n      return this.state === this.TEST_SESSION_STATES.FINISHED;\r\n    }\r\n  }\r\n});\r\n\r\nexport const sessionStateProvider = Vue => ({\r\n  provide() {\r\n    return {\r\n      $startSession: this.$startSession.bind(this),\r\n      $endSession: this.$endSession.bind(this),\r\n      TEST_SESSION_STATES: this.TEST_SESSION_STATES\r\n    };\r\n  },\r\n  data: () => ({\r\n    TEST_SESSION_STATES: {\r\n      INIT: 0,\r\n      ON_PROGRESS: 1,\r\n      FINISHED: 2\r\n    },\r\n    state: 0\r\n  }),\r\n  computed: {\r\n    isOnInit() {\r\n      return this.state === this.TEST_SESSION_STATES.INIT;\r\n    },\r\n    isOnProgress() {\r\n      return this.state === this.TEST_SESSION_STATES.ON_PROGRESS;\r\n    },\r\n    isFinished() {\r\n      return this.state === this.TEST_SESSION_STATES.FINISHED;\r\n    }\r\n  },\r\n  methods: {\r\n    $getState() {\r\n      return this.state;\r\n    },\r\n    $startSession() {\r\n      this.state = this.TEST_SESSION_STATES.ON_PROGRESS;\r\n    },\r\n    $endSession() {\r\n      this.state = this.TEST_SESSION_STATES.FINISHED;\r\n      this.$emit(\"session-ended\");\r\n    }\r\n  }\r\n});\r\n"],"sourceRoot":""}