(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-30416552"],{2909:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var i=n("6b75");function o(t){if(Array.isArray(t))return Object(i["a"])(t)}n("a4d3"),n("e01a"),n("d3b7"),n("d28b"),n("3ca3"),n("ddb0"),n("a630");function s(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}var r=n("06c5");function a(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(t){return o(t)||s(t)||Object(r["a"])(t)||a()}},"51fc":function(t,e,n){},"774a":function(t,e,n){"use strict";n("51fc")},a7b1:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"post-detail-page"}},[t.post&&t.topic?n("div",{staticClass:"hero is-halfheight"},[n("div",{staticClass:"hero-body is-relative px-0"},[n("div",{staticClass:"container"},[n("post-info",{attrs:{post:t.post,topicThumbnailImage:t.topic.thumbnail_url}})],1)])]):t._e(),t.post?n("div",{staticClass:"has-text-centered py-5"},[n("p",{staticClass:"has-text-primary is-italic has-text-weight-bold is-size-4"},[t._v(" Bài số "+t._s(t.currentPostIndex)+" ")]),n("p",{staticClass:"is-size-1 has-text-weight-extra-bold is-uppercase"},[t._v(" "+t._s(t.post.post_title)+" ")])]):t._e(),n("div",{staticClass:"post-main-body"},[n("section",{attrs:{id:"list-posts-section"}},[t.topic?n("topic-list-item",{attrs:{topic:t.topic,"active-post-id":t.postId,to:t.$_getNavigateView}}):t._e()],1),n("section",{attrs:{id:"post-view-section"}},[t.post?n("post-view-detail",{attrs:{post:t.post,"index-sticky-top":"100px","index-title":"Mục lục","empty-text":"Không có mục lục",hasViewIndex:!0,indexLevels:"h3",navigate:t.$_navigateToPost},scopedSlots:t._u([{key:"header",fn:function(){return[n("div")]},proxy:!0}],null,!1,3706149996)}):t._e()],1)])])},o=[],s=n("2909"),r=n("1da1"),a=n("5530"),c=(n("96cf"),n("d3b7"),n("3ca3"),n("ddb0"),n("99af"),n("c740"),n("2f62")),u={name:"PostViewPage",components:{"post-view-detail":function(){return n.e("chunk-2a3051ff").then(n.bind(null,"d504"))},"topic-list-item":function(){return n.e("chunk-76cdd613").then(n.bind(null,"a25a"))},"post-info":function(){return n.e("chunk-094bbcb3").then(n.bind(null,"31e5"))}},inject:["$p_loadPage"],metaInfo:function(){var t,e,n="".concat(null===(t=this.post)||void 0===t?void 0:t.post_title," - ").concat(this.$appConfig.VUE_APP_NAME);return{title:n,meta:[{property:"og:title",content:n},{property:"og:image",content:null===(e=this.post)||void 0===e?void 0:e.thumbnail_file_url}]}},props:{postId:String},data:function(){return{post:null,listPosts:[],topic:null}},watch:{postId:function(t){t?this.$_requestData():this.$router.push({name:"Home"})}},computed:{isCurrentPostInTheSameTopic:function(){var t=this;return-1!==this.listPosts.findIndex((function(e){return e.post_id===t.postId}))},currentPostIndex:function(){var t=this;return this.listPosts.findIndex((function(e){var n;return e.post_id===(null===(n=t.post)||void 0===n?void 0:n.post_id)}))+1}},mounted:function(){this.$_requestData()},methods:Object(a["a"])(Object(a["a"])({},Object(c["b"])("POST",["getPostById","getPostsByTopic"])),{},{$_requestData:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.$p_loadPage(!0),t.$_requestPost().then((function(e){if(!e)return t.$p_loadPage(!1),void t.$router.push({name:"PageNotFound"});t.isCurrentPostInTheSameTopic?t.$p_loadPage(!1):t.$_getListPostsOfTopic(t.post.topic_id).then((function(){t.$p_loadPage(!1)}))}));case 2:case"end":return e.stop()}}),e)})))()},$_requestPost:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",t.getPostById(t.postId).then((function(e){var n=e.error,i=e.data;return!n&&(t.post=i,!0)})));case 1:case"end":return e.stop()}}),e)})))()},$_getListPostsOfTopic:function(t){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.abrupt("return",e.getPostsByTopic({topicId:t}).then((function(t){var n,i=t.error,o=t.data;i||(e.topic=o,e.listPosts.length=0,(n=e.listPosts).push.apply(n,Object(s["a"])(o.list_posts)))})));case 1:case"end":return n.stop()}}),n)})))()},$_navigateToPost:function(t){this.$router.push({name:"PostView",params:{post_id:t}})},$_getNavigateView:function(t){return{name:"PostView",params:{post_id:t.post_id}}}})},p=u,d=(n("774a"),n("2877")),l=Object(d["a"])(p,i,o,!1,null,"afb63f6a",null);e["default"]=l.exports}}]);
//# sourceMappingURL=chunk-30416552.62f200c8.js.map