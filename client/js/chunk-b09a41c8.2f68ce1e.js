(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b09a41c8"],{"1ed5":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.user?a("div",{attrs:{id:"admin-account-info-page"}},[a("admin-content",{attrs:{title:"Tài khoản",icon:"user-circle",iconPack:"fas"}},[a("div",{staticClass:"main-body-content"},[a("section",{attrs:{id:"account-badge-info"}},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-content"},[a("div",{staticClass:"image-uploader-container"},[a("image-uploader",{attrs:{src:t.userAvatar},on:{"image-changed":t.$on_avatarChanged}})],1),a("div",{staticClass:"py-2"},[a("div",{staticClass:"is-flex is-flex-direction-column is-align-items-center my-3"},[a("span",{staticClass:"is-size-5 has-text-weight-bold"},[t._v(t._s(t.profile.display_name))])]),a("div",{staticClass:"ha-vertical-layout-5"},[a("div",{staticClass:"is-flex is-flex-direction-column is-align-items-center"},[a("span",{staticClass:"is-size-6 has-text-grey mb-1"},[t._v("Ngày tham gia")]),a("span",{staticClass:"is-size-6"},[t._v(t._s(new Date(t.user.created_date).toLocaleDateString("en-GB")))])])])])])])]),a("section",[a("b-tabs",{staticClass:"is-paddingless"},[a("b-tab-item",{scopedSlots:t._u([{key:"header",fn:function(){return[a("div",{staticClass:"tab-header"},[a("span",[t._v(" Tài khoản ")])])]},proxy:!0}],null,!1,2044903370)},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-content"},[a("account-section")],1)])]),t.activeRoleTab?a("b-tab-item",{scopedSlots:t._u([{key:"header",fn:function(){return[a("div",{staticClass:"tab-header"},[a("span",[t._v(" "+t._s(t.activeRoleTab.text)+" ")])])]},proxy:!0}],null,!1,3650907143)},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-content"},["creator"===t.activeRole?a("creator-section"):"manager"===t.activeRole?a("manager-section"):t._e()],1)])]):t._e()],1)],1)])])],1):t._e()},i=[],r=a("5530"),c=(a("d3b7"),a("3ca3"),a("ddb0"),a("2f62")),s=a("ed08"),o={name:"AdminAccountInfoPage",components:{"admin-content":function(){return a.e("chunk-193a4f2c").then(a.bind(null,"8e2f"))},"image-uploader":function(){return a.e("chunk-0e34cdcc").then(a.bind(null,"0fea"))},"account-section":function(){return a.e("chunk-1afb621f").then(a.bind(null,"d8a9"))},"creator-section":function(){return a.e("chunk-2d0cc9b6").then(a.bind(null,"4f3a"))},"manager-section":function(){return a.e("chunk-2d226002").then(a.bind(null,"e793"))}},metaInfo:function(){var t="Tài khoản - ".concat(this.$appConfig.VUE_APP_NAME);return{title:t}},data:function(){return{ROLE_MAPPING:{manager:{text:"Quản lí"},creator:{text:"Tác giả"}},user:null}},mounted:function(){this.$_getUserInfo()},computed:Object(r["a"])(Object(r["a"])({},Object(c["c"])("AUTH",["userRoles","activeRole"])),{},{activeRoleTab:function(){return this.ROLE_MAPPING[this.activeRole]},userAvatar:function(){var t;return null===(t=this.profile)||void 0===t?void 0:t.profile_pic},filteredRoles:function(){return[this.activeRole]},profile:function(){var t;return null===(t=this.user)||void 0===t?void 0:t.profile}}),methods:Object(r["a"])(Object(r["a"])(Object(r["a"])({},Object(c["b"])("AUTH",["updateAvatar","loginAsRole","getUserInfo"])),Object(c["b"])("CREATOR",["creatorRole_updateCreator"])),{},{$on_avatarChanged:function(t){var e=this;this.updateAvatar({avatar:t}).then((function(t){var a=t.error;a?s["d"].error(e.$buefy.toast,"Cập nhật ảnh thất bại"):s["d"].success(e.$buefy.toast,"Cập nhật ảnh thành công")}))},$_getUpdateRoleAPI:function(t){switch(t){case"manager":return null;case"creator":return this.creatorRole_updateCreator}},$_getUserInfo:function(){var t=this;this.getUserInfo().then((function(e){var a=e.error,n=e.data;a||(t.user=n)}))}})},u=o,l=(a("fc14"),a("2877")),d=Object(l["a"])(u,n,i,!1,null,"7ff5a5e3",null);e["default"]=d.exports},2909:function(t,e,a){"use strict";a.d(e,"a",(function(){return o}));var n=a("6b75");function i(t){if(Array.isArray(t))return Object(n["a"])(t)}a("a4d3"),a("e01a"),a("d3b7"),a("d28b"),a("3ca3"),a("ddb0"),a("a630");function r(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}var c=a("06c5");function s(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function o(t){return i(t)||r(t)||Object(c["a"])(t)||s()}},f6ab:function(t,e,a){},fc14:function(t,e,a){"use strict";a("f6ab")}}]);
//# sourceMappingURL=chunk-b09a41c8.2f68ce1e.js.map