{"version":3,"sources":["webpack:///./src/layouts/user-view/components/user-badge.vue?c55e","webpack:///src/layouts/user-view/components/user-badge.vue","webpack:///./src/layouts/user-view/components/user-badge.vue?c32a","webpack:///./src/layouts/user-view/components/user-badge.vue?3e44","webpack:///./src/layouts/user-view/components/user-badge.vue?39a3"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","scopedSlots","_u","key","fn","open","_v","_s","user","profile","last_name","profile_pic","proxy","model","value","callback","$$v","expression","display_name","name","activeRole","on","$event","$on_navigate","_e","_l","role","id","$on_loginWithRole","ROLES","icon","text","$on_logout","staticRenderFns","props","type","Object","default","inject","data","computed","userRolesWithoutActive","userRoles","filter","methods","loginAsRole","error","location","reload","$p_loadPage","logout","then","success","$router","push","component"],"mappings":"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","file":"js/chunk-25dd4be1.3a4b0aee.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"user-badge\"},[_c('b-dropdown',{attrs:{\"position\":\"is-bottom-left\"},scopedSlots:_vm._u([{key:\"trigger\",fn:function(){return [_c('b-button',{staticClass:\"user-badge__trigger is-badge-button p-0\",attrs:{\"selected\":_vm.open,\"type\":\"is-primary\",\"size\":\"is-medium\"}},[_c('span',{staticClass:\"is-size-6 has-text-weight-bold ml-3\"},[_vm._v(_vm._s(_vm.user.profile.last_name))]),_c('b-image',{staticClass:\"badge-avatar is-coverable\",attrs:{\"src\":_vm.user.profile.profile_pic,\"rounded\":\"\",\"ratio\":\"1by1\"}})],1)]},proxy:true}]),model:{value:(_vm.open),callback:function ($$v) {_vm.open=$$v},expression:\"open\"}},[_c('b-dropdown-item',{staticClass:\"user-badge-profile\",attrs:{\"custom\":\"\"}},[_c('div',{staticClass:\"media\"},[_c('div',{staticClass:\"media-left\"},[_c('img',{staticClass:\"badge-avatar-detail is-coverable\",attrs:{\"src\":_vm.user.profile.profile_pic}})]),_c('div',{staticClass:\"media-content\"},[_c('div',{staticClass:\"is-size-6 has-text-weight-bold\"},[_vm._v(\" \"+_vm._s(_vm.user.profile.display_name)+\" \")]),_c('b-button',{staticClass:\"mt-2\",attrs:{\"outlined\":\"\",\"rounded\":\"\",\"size\":\"is-small\",\"type\":\"is-primary-dark\",\"tag\":\"router-link\",\"to\":{ name: 'PersonalAccountInfo' }}},[_vm._v(\"Xem thông tin\")])],1)])]),_c('b-dropdown-item',{attrs:{\"separator\":\"\"}}),(_vm.activeRole !== 'viewer')?_c('b-dropdown-item',{on:{\"click\":function($event){return _vm.$on_navigate(\n          _vm.activeRole === 'creator' ? 'ListPosts' : 'PostVerification'\n        )}}},[_c('div',{staticClass:\"media is-align-items-center\"},[_c('b-icon',{staticClass:\"media-left\",attrs:{\"icon\":\"th-large\",\"size\":\"is-medium\",\"type\":\"is-primary\"}}),_c('div',{staticClass:\"media-content\"},[_c('span',[_vm._v(\"Quản lí\")])])],1)]):_vm._e(),_c('b-dropdown-item',{attrs:{\"separator\":\"\"}}),_vm._l((_vm.userRolesWithoutActive),function(role){return _c('b-dropdown-item',{key:role.id,on:{\"click\":function($event){return _vm.$on_loginWithRole(role)}}},[_c('div',{staticClass:\"media is-align-items-center\"},[_c('b-icon',{staticClass:\"media-left\",attrs:{\"icon\":_vm.ROLES[role].icon,\"size\":\"is-medium\",\"type\":\"is-primary\"}}),_c('div',{staticClass:\"media-content\"},[_c('span',[_vm._v(_vm._s(_vm.ROLES[role].text))])])],1)])}),_c('b-dropdown-item',{attrs:{\"separator\":\"\"}}),_c('b-dropdown-item',{on:{\"click\":_vm.$on_logout}},[_c('div',{staticClass:\"media is-align-items-center\"},[_c('b-icon',{staticClass:\"media-left\",attrs:{\"icon\":\"sign-out-alt\",\"size\":\"is-medium\",\"type\":\"is-primary\"}}),_c('div',{staticClass:\"media-content\"},[_c('span',[_vm._v(\"Đăng xuất\")])])],1)])],2)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"user-badge\">\r\n    <b-dropdown v-model=\"open\" position=\"is-bottom-left\">\r\n      <template #trigger>\r\n        <b-button\r\n          :selected=\"open\"\r\n          type=\"is-primary\"\r\n          class=\"user-badge__trigger is-badge-button p-0\"\r\n          size=\"is-medium\"\r\n        >\r\n          <span class=\"is-size-6 has-text-weight-bold ml-3\">{{\r\n            user.profile.last_name\r\n          }}</span>\r\n          <b-image\r\n            class=\"badge-avatar is-coverable\"\r\n            :src=\"user.profile.profile_pic\"\r\n            rounded\r\n            ratio=\"1by1\"\r\n          />\r\n        </b-button>\r\n      </template>\r\n      <b-dropdown-item custom class=\"user-badge-profile\">\r\n        <div class=\"media\">\r\n          <div class=\"media-left\">\r\n            <img\r\n              class=\"badge-avatar-detail is-coverable\"\r\n              :src=\"user.profile.profile_pic\"\r\n            />\r\n          </div>\r\n          <div class=\"media-content\">\r\n            <div class=\"is-size-6 has-text-weight-bold\">\r\n              {{ user.profile.display_name }}\r\n            </div>\r\n            <b-button\r\n              class=\"mt-2\"\r\n              outlined\r\n              rounded\r\n              size=\"is-small\"\r\n              type=\"is-primary-dark\"\r\n              tag=\"router-link\"\r\n              :to=\"{ name: 'PersonalAccountInfo' }\"\r\n              >Xem thông tin</b-button\r\n            >\r\n          </div>\r\n        </div>\r\n      </b-dropdown-item>\r\n      <b-dropdown-item separator />\r\n      <b-dropdown-item\r\n        v-if=\"activeRole !== 'viewer'\"\r\n        @click=\"\r\n          $on_navigate(\r\n            activeRole === 'creator' ? 'ListPosts' : 'PostVerification'\r\n          )\r\n        \"\r\n      >\r\n        <div class=\"media is-align-items-center\">\r\n          <b-icon\r\n            class=\"media-left\"\r\n            icon=\"th-large\"\r\n            size=\"is-medium\"\r\n            type=\"is-primary\"\r\n          ></b-icon>\r\n          <div class=\"media-content\">\r\n            <span>Quản lí</span>\r\n          </div>\r\n        </div>\r\n      </b-dropdown-item>\r\n      <b-dropdown-item separator />\r\n      <b-dropdown-item\r\n        v-for=\"role in userRolesWithoutActive\"\r\n        :key=\"role.id\"\r\n        @click=\"$on_loginWithRole(role)\"\r\n      >\r\n        <div class=\"media is-align-items-center\">\r\n          <b-icon\r\n            class=\"media-left\"\r\n            :icon=\"ROLES[role].icon\"\r\n            size=\"is-medium\"\r\n            type=\"is-primary\"\r\n          ></b-icon>\r\n          <div class=\"media-content\">\r\n            <span>{{ ROLES[role].text }}</span>\r\n          </div>\r\n        </div>\r\n      </b-dropdown-item>\r\n      <b-dropdown-item separator />\r\n      <b-dropdown-item @click=\"$on_logout\">\r\n        <div class=\"media is-align-items-center\">\r\n          <b-icon\r\n            class=\"media-left\"\r\n            icon=\"sign-out-alt\"\r\n            size=\"is-medium\"\r\n            type=\"is-primary\"\r\n          ></b-icon>\r\n          <div class=\"media-content\">\r\n            <span>Đăng xuất</span>\r\n          </div>\r\n        </div>\r\n      </b-dropdown-item>\r\n    </b-dropdown>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapActions, mapGetters } from \"vuex\";\r\nexport default {\r\n  name: \"UserBadge\",\r\n  props: {\r\n    user: {\r\n      type: Object,\r\n      default: () => null\r\n    }\r\n  },\r\n  inject: [\"$p_loadPage\"],\r\n  data: () => ({\r\n    ROLES: {\r\n      viewer: {\r\n        icon: \"user\",\r\n        text: \"Đăng nhập với Viewer\",\r\n        redirect: \"Home\"\r\n      },\r\n      creator: {\r\n        icon: \"user-edit\",\r\n        text: \"Đăng nhập với Creator\",\r\n        redirect: \"ListPosts\"\r\n      },\r\n      manager: {\r\n        icon: \"user-tie\",\r\n        text: \"Đăng nhập với Manager\",\r\n        redirect: \"PostVerification\"\r\n      },\r\n      admin: {\r\n        icon: \"users-cog\",\r\n        text: \"Đăng nhập với Admin\",\r\n        redirect: \"Q&A\"\r\n      }\r\n    },\r\n    open: false\r\n  }),\r\n  computed: {\r\n    ...mapGetters(\"AUTH\", [\"userRoles\", \"activeRole\"]),\r\n    userRolesWithoutActive() {\r\n      return this.userRoles.filter(role => role !== this.activeRole);\r\n    }\r\n  },\r\n  methods: {\r\n    ...mapActions(\"AUTH\", [\"logout\", \"loginAsRole\"]),\r\n\r\n    $on_loginWithRole(role) {\r\n      this.loginAsRole({ role }).then(result => {\r\n        const { error, data } = result;\r\n        if (error) {\r\n          return;\r\n        }\r\n        location.reload();\r\n      });\r\n    },\r\n\r\n    $on_logout() {\r\n      this.$p_loadPage(true);\r\n      this.logout().then(success => {\r\n        if (!success) {\r\n          this.$p_loadPage(false);\r\n          return;\r\n        }\r\n        location.reload();\r\n      });\r\n    },\r\n\r\n    $on_navigate(name) {\r\n      this.$router.push({ name });\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n.user-badge {\r\n  border-radius: 1000px;\r\n  // &-avatar {\r\n  //   border-radius: 50%;\r\n  //   border: 2px solid transparent;\r\n  //   box-sizing: border-box;\r\n  //   width: calc(48px - 4px);\r\n  //   height: 100%;\r\n  // }\r\n\r\n  &__trigger {\r\n    border-radius: 1000px;\r\n    height: fit-content;\r\n  }\r\n\r\n  &-trigger {\r\n    width: fit-content;\r\n    border: 2px solid transparent;\r\n\r\n    > span {\r\n      display: grid !important;\r\n      grid-template-columns: 1fr 1fr !important;\r\n      column-gap: 0.5rem !important;\r\n    }\r\n  }\r\n\r\n  &-profile {\r\n    min-width: 300px;\r\n  }\r\n\r\n  &-avatar {\r\n    max-height: fit-content !important;\r\n    width: 60px;\r\n    height: auto;\r\n    border-radius: 50%;\r\n  }\r\n\r\n  &.is-active {\r\n    .user-badge-avatar {\r\n      border: 2px solid white;\r\n    }\r\n  }\r\n}\r\n\r\n.badge-avatar-detail {\r\n  width: 72px;\r\n  height: 72px;\r\n  border-radius: 50%;\r\n  object-fit: cover;\r\n  max-height: 100% !important;\r\n}\r\n</style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./user-badge.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./user-badge.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./user-badge.vue?vue&type=template&id=dda85a8c&scoped=true&\"\nimport script from \"./user-badge.vue?vue&type=script&lang=js&\"\nexport * from \"./user-badge.vue?vue&type=script&lang=js&\"\nimport style0 from \"./user-badge.vue?vue&type=style&index=0&id=dda85a8c&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"dda85a8c\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./user-badge.vue?vue&type=style&index=0&id=dda85a8c&scoped=true&lang=scss&\""],"sourceRoot":""}