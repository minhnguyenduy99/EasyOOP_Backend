{"version":3,"sources":["webpack:///./src/views/test-detail/test-result-info.vue?98e2","webpack:///src/views/test-detail/test-result-info.vue","webpack:///./src/views/test-detail/test-result-info.vue?c2ed","webpack:///./src/views/test-detail/test-result-info.vue?3436","webpack:///./node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","webpack:///./node_modules/@babel/runtime/helpers/esm/iterableToArray.js","webpack:///./node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","webpack:///./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","webpack:///./src/views/test-detail/test-result-info.vue?cb89"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","_s","correctSentenceText","obtainedScoreText","attrs","saved","saveButtonLoading","on","$on_saveResultButtonClicked","name","testResult","results","$_buttonTypeHandler","$on_sentenceSelected","isAuthenticated","_e","model","value","callback","$$v","showLoginModal","expression","staticRenderFns","components","mixins","inject","props","type","Object","default","sessionId","String","selectedOrder","Number","data","computed","hasSession","watch","val","$_mappingAnswers","methods","page","currentPage","$_navigateToPage","then","$emit","order","$on_navigateToResultsPage","$router","push","$_saveTestResultBySession","$_saveTestResult","$p_showLoginModal","user_answer","viewer_createTestResult","viewer_createTestResultBySession","session_id","error","component","_arrayWithoutHoles","arr","Array","isArray","arrayLikeToArray","_iterableToArray","iter","Symbol","iterator","from","_nonIterableSpread","TypeError","_toConsumableArray","arrayWithoutHoles","iterableToArray","unsupportedIterableToArray","nonIterableSpread"],"mappings":"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","file":"js/chunk-75f57be6.5aacd436.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"panel is-primary-light test-result-info\"},[_c('p',{staticClass:\"panel-heading has-text-centered\"},[_vm._v(\" KẾT QUẢ \")]),_c('div',{staticClass:\"p-3 ha-vertical-layout-6\"},[_c('div',{staticClass:\"ha-vertical-layout-6 py-3\"},[_c('div',{staticClass:\"test-field\"},[_c('span',{staticClass:\"test-field-label\"},[_vm._v(\"Số lượng câu đúng \")]),_c('span',{staticClass:\"test-field-value\"},[_vm._v(_vm._s(_vm.correctSentenceText))])]),_c('div',{staticClass:\"test-field\"},[_c('span',{staticClass:\"test-field-label\"},[_vm._v(\"Số điểm đạt được \")]),_c('span',{staticClass:\"test-field-value\"},[_vm._v(_vm._s(_vm.obtainedScoreText))])])]),_c('div',{staticClass:\"buttons is-justify-content-space-between\"},[_c('b-button',{attrs:{\"icon-left\":_vm.saved ? 'check' : null,\"type\":\"is-primary\",\"disabled\":_vm.saved,\"loading\":_vm.saveButtonLoading},on:{\"click\":_vm.$on_saveResultButtonClicked}},[_vm._v(_vm._s(_vm.saved ? \"Đã lưu\" : \"Lưu kết quả\"))]),_c('b-button',{attrs:{\"type\":\"is-primary\",\"outlined\":\"\",\"tag\":\"router-link\",\"to\":{ name: 'PersonalTestResults' }}},[_vm._v(\"Danh sách kết quả\")])],1),_c('hr'),_c('sentence-order-panel',{attrs:{\"answers\":_vm.testResult.results,\"buttonType\":_vm.$_buttonTypeHandler},on:{\"selected\":_vm.$on_sentenceSelected}})],1),(!_vm.isAuthenticated)?_c('b-modal',{model:{value:(_vm.showLoginModal),callback:function ($$v) {_vm.showLoginModal=$$v},expression:\"showLoginModal\"}},[[_c('modal-form',{attrs:{\"title\":\"Đăng nhập\",\"has-card\":\"\"}},[_c('login-form')],1)]],2):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"panel is-primary-light test-result-info\">\r\n    <p class=\"panel-heading has-text-centered\">\r\n      KẾT QUẢ\r\n    </p>\r\n    <div class=\"p-3 ha-vertical-layout-6\">\r\n      <div class=\"ha-vertical-layout-6 py-3\">\r\n        <div class=\"test-field\">\r\n          <span class=\"test-field-label\">Số lượng câu đúng </span>\r\n          <span class=\"test-field-value\">{{ correctSentenceText }}</span>\r\n        </div>\r\n        <div class=\"test-field\">\r\n          <span class=\"test-field-label\">Số điểm đạt được </span>\r\n          <span class=\"test-field-value\">{{ obtainedScoreText }}</span>\r\n        </div>\r\n      </div>\r\n      <div class=\"buttons is-justify-content-space-between\">\r\n        <b-button\r\n          :icon-left=\"saved ? 'check' : null\"\r\n          type=\"is-primary\"\r\n          :disabled=\"saved\"\r\n          :loading=\"saveButtonLoading\"\r\n          @click=\"$on_saveResultButtonClicked\"\r\n          >{{ saved ? \"Đã lưu\" : \"Lưu kết quả\" }}</b-button\r\n        >\r\n        <b-button\r\n          type=\"is-primary\"\r\n          outlined\r\n          tag=\"router-link\"\r\n          :to=\"{ name: 'PersonalTestResults' }\"\r\n          >Danh sách kết quả</b-button\r\n        >\r\n      </div>\r\n      <hr />\r\n      <sentence-order-panel\r\n        :answers=\"testResult.results\"\r\n        @selected=\"$on_sentenceSelected\"\r\n        :buttonType=\"$_buttonTypeHandler\"\r\n      />\r\n    </div>\r\n    <b-modal v-if=\"!isAuthenticated\" v-model=\"showLoginModal\">\r\n      <template>\r\n        <modal-form title=\"Đăng nhập\" has-card>\r\n          <login-form />\r\n        </modal-form>\r\n      </template>\r\n    </b-modal>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapActions, mapGetters } from \"vuex\";\r\nimport { ToastNotifier } from \"../../utils\";\r\nimport { sessionStateInjector } from \"./mixins/session-state.mixin\";\r\n\r\nexport default {\r\n  name: \"TestResultInfo\",\r\n  components: {\r\n    \"sentence-order-panel\": () =>\r\n      import(\"@/components/sentence-order-panel/sentence-order-panel\"),\r\n    \"login-form\": () => import(\"@/components/login-form/login-form.vue\"),\r\n    \"modal-form\": () => import(\"@/components/modal-form\")\r\n  },\r\n  mixins: [sessionStateInjector()],\r\n  inject: [\"$_navigateToPage\", \"$p_showLoginModal\"],\r\n  props: {\r\n    testResult: {\r\n      type: Object,\r\n      default: () => null\r\n    },\r\n    sessionId: {\r\n      type: String,\r\n      default: () => null\r\n    },\r\n    selectedOrder: Number\r\n  },\r\n  data: () => ({\r\n    showLoginModal: false,\r\n    saved: false,\r\n    saveButtonLoading: false\r\n  }),\r\n  computed: {\r\n    ...mapGetters(\"VIEWER_TEST\", [\r\n      \"answerGroups\",\r\n      \"sentencesPerGroup\",\r\n      \"pageOfSentence\",\r\n      \"currentPage\",\r\n      \"totalAnswers\"\r\n    ]),\r\n    ...mapGetters(\"AUTH\", [\"isAuthenticated\"]),\r\n    correctSentenceText() {\r\n      const { total_sentence_count, correct_answer_count } = this.testResult;\r\n      return `${correct_answer_count} / ${total_sentence_count}`;\r\n    },\r\n    obtainedScoreText() {\r\n      const { obtained_score, total_score } = this.testResult;\r\n      return `${obtained_score} / ${total_score}`;\r\n    },\r\n    hasSession() {\r\n      return !!this.sessionId;\r\n    }\r\n  },\r\n  watch: {\r\n    testResult(val) {\r\n      if (!val) {\r\n        return;\r\n      }\r\n      this.$_mappingAnswers();\r\n    },\r\n    isAuthenticated(val) {\r\n      if (!val) {\r\n        return;\r\n      }\r\n      this.$on_saveResultButtonClicked();\r\n    }\r\n  },\r\n  methods: {\r\n    ...mapActions(\"VIEWER_TEST\", [\r\n      \"viewer_createTestResult\",\r\n      \"viewer_createTestResultBySession\"\r\n    ]),\r\n    $on_sentenceSelected(order) {\r\n      const page = this.pageOfSentence(order);\r\n      if (page === this.currentPage) {\r\n        this.$emit(\"update:selectedOrder\", order);\r\n        return;\r\n      }\r\n      this.$_navigateToPage(page).then(() => {\r\n        this.$nextTick(() => {\r\n          this.$emit(\"update:selectedOrder\", order);\r\n        });\r\n      });\r\n    },\r\n    $on_navigateToResultsPage() {\r\n      this.$router.push({\r\n        name: \"PersonalTestResults\"\r\n      });\r\n    },\r\n    $on_saveResultButtonClicked() {\r\n      if (this.isAuthenticated) {\r\n        if (this.hasSession) {\r\n          this.$_saveTestResultBySession();\r\n          return;\r\n        }\r\n        this.$_saveTestResult();\r\n        return;\r\n      }\r\n      this.$p_showLoginModal();\r\n    },\r\n    $_buttonTypeHandler(sentence, index) {\r\n      const { answer, user_answer, answered } = sentence;\r\n      return user_answer === -1\r\n        ? \"is-light\"\r\n        : answer === user_answer\r\n        ? \"is-success\"\r\n        : \"is-danger\";\r\n    },\r\n    $_saveTestResult() {\r\n      if (this.saved) {\r\n        return;\r\n      }\r\n      this.saveButtonLoading = true;\r\n      const { test_id, results } = this.testResult;\r\n      this.viewer_createTestResult({ test_id, results, save: true }).then(\r\n        result => {\r\n          this.saveButtonLoading = false;\r\n          const { error } = result;\r\n          if (error) {\r\n            return;\r\n          }\r\n          this.saved = true;\r\n          ToastNotifier.success(this.$buefy.toast, \"Lưu kết quả thành công\");\r\n          this.$emit(\"result-saved\");\r\n        }\r\n      );\r\n    },\r\n    $_saveTestResultBySession() {\r\n      if (this.saved) {\r\n        return;\r\n      }\r\n      this.saveButtonLoading = true;\r\n      this.viewer_createTestResultBySession({\r\n        session_id: this.sessionId\r\n      }).then(result => {\r\n        this.saveButtonLoading = false;\r\n        const { error } = result;\r\n        if (error) {\r\n          return;\r\n        }\r\n        this.saved = true;\r\n        ToastNotifier.success(this.$buefy.toast, \"Lưu kết quả thành công\");\r\n        this.$emit(\"result-saved\");\r\n      });\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n@import \"./style.scss\";\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./test-result-info.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./test-result-info.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./test-result-info.vue?vue&type=template&id=2738ecba&scoped=true&\"\nimport script from \"./test-result-info.vue?vue&type=script&lang=js&\"\nexport * from \"./test-result-info.vue?vue&type=script&lang=js&\"\nimport style0 from \"./test-result-info.vue?vue&type=style&index=0&id=2738ecba&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2738ecba\",\n  null\n  \n)\n\nexport default component.exports","import arrayLikeToArray from \"./arrayLikeToArray.js\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import arrayWithoutHoles from \"./arrayWithoutHoles.js\";\nimport iterableToArray from \"./iterableToArray.js\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nimport nonIterableSpread from \"./nonIterableSpread.js\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./test-result-info.vue?vue&type=style&index=0&id=2738ecba&scoped=true&lang=scss&\""],"sourceRoot":""}