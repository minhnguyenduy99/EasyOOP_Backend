{"version":3,"sources":["webpack:///./src/views/admin/manager-list/manager-table.vue?5cd1","webpack:///./src/views/admin/manager-list/manager-table.vue?ae11","webpack:///src/views/admin/manager-list/manager-table.vue","webpack:///./src/views/admin/manager-list/manager-table.vue?8414","webpack:///./src/views/admin/manager-list/manager-table.vue?2518"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","managers","isTableEmpty","selectedManager","loading","itemsPerPage","totalCount","row","index","on","$event","$on_pageChanged","$on_sort","$on_rowClicked","scopedSlots","_u","key","fn","proxy","staticClass","_v","_s","ref","manager_id","alias","Date","created_date","toLocaleDateString","staticRenderFns","name","components","props","searchOptions","type","Object","default","inject","data","mounted","$_loadAsyncData","computed","selectedId","isRowSelected","length","watch","$emit","val","methods","page","sorter","field","sort_order","order","$api_findManagers","search","then","error","$_updateData","total_count","component"],"mappings":"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","file":"js/chunk-597b92a3.fab5de37.js","sourcesContent":["export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./manager-table.vue?vue&type=style&index=0&id=fe6f2aae&scoped=true&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"manager-list-table\"}},[_c('b-table',{attrs:{\"data\":_vm.managers,\"paginated\":!_vm.isTableEmpty,\"hoverable\":\"\",\"pagination-rounded\":\"\",\"selected\":_vm.selectedManager,\"is-row-selectable\":function () { return true; },\"loading\":_vm.loading,\"pagination-size\":\"is-small\",\"per-page\":_vm.itemsPerPage,\"total\":_vm.totalCount,\"backend-pagination\":\"\",\"row-class\":function (row, index) { return 'is-clickable'; },\"backend-sorting\":\"\"},on:{\"update:selected\":function($event){_vm.selectedManager=$event},\"page-change\":_vm.$on_pageChanged,\"sort\":_vm.$on_sort,\"click\":_vm.$on_rowClicked},scopedSlots:_vm._u([{key:\"empty\",fn:function(){return [_c('empty-state',{attrs:{\"image-src\":\"https://res.cloudinary.com/dml8e1w0z/image/upload/v1622949906/oop-learning-helper/empty_user_f0dwfl.png\",\"text\":\"Chưa có quản lí nào\"}})]},proxy:true},(!_vm.isTableEmpty)?{key:\"footer\",fn:function(){return [_c('div',[_c('span',{staticClass:\"has-text-grey\"},[_vm._v(\"Số lượng kết quả: \")]),_c('span',{staticClass:\"has-text-weight-bold\"},[_vm._v(_vm._s(_vm.totalCount))])])]},proxy:true}:null],null,true)},[_c('b-table-column',{attrs:{\"label\":\"ID\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar row = ref.row;\nreturn [_c('span',[_c('a',{attrs:{\"href\":\"#\"}},[_vm._v(_vm._s(row.manager_id))])])]}}])}),_c('b-table-column',{attrs:{\"label\":\"Tên người quản lí\",\"width\":\"300\",\"cell-class\":\"is-align-items-center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar row = ref.row;\nreturn [_vm._v(\" \"+_vm._s(row.alias)+\" \")]}}])}),_c('b-table-column',{attrs:{\"field\":\"created_date\",\"label\":\"Ngày tạo\",\"width\":\"100\",\"sortable\":\"\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar row = ref.row;\nreturn [_vm._v(\" \"+_vm._s(new Date(row.created_date).toLocaleDateString(\"en-GB\"))+\" \")]}}])})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div id=\"manager-list-table\">\r\n    <b-table\r\n      :data=\"managers\"\r\n      :paginated=\"!isTableEmpty\"\r\n      hoverable\r\n      pagination-rounded\r\n      :selected.sync=\"selectedManager\"\r\n      :is-row-selectable=\"() => true\"\r\n      :loading=\"loading\"\r\n      pagination-size=\"is-small\"\r\n      :per-page=\"itemsPerPage\"\r\n      :total=\"totalCount\"\r\n      backend-pagination\r\n      :row-class=\"(row, index) => 'is-clickable'\"\r\n      backend-sorting\r\n      @page-change=\"$on_pageChanged\"\r\n      @sort=\"$on_sort\"\r\n      @click=\"$on_rowClicked\"\r\n    >\r\n      <b-table-column label=\"ID\">\r\n        <template v-slot=\"{ row }\">\r\n          <span>\r\n            <a href=\"#\">{{ row.manager_id }}</a>\r\n          </span>\r\n        </template>\r\n      </b-table-column>\r\n\r\n      <b-table-column\r\n        label=\"Tên người quản lí\"\r\n        width=\"300\"\r\n        v-slot=\"{ row }\"\r\n        cell-class=\"is-align-items-center\"\r\n      >\r\n        {{ row.alias }}\r\n      </b-table-column>\r\n\r\n      <b-table-column\r\n        field=\"created_date\"\r\n        label=\"Ngày tạo\"\r\n        width=\"100\"\r\n        v-slot=\"{ row }\"\r\n        sortable\r\n      >\r\n        {{ new Date(row.created_date).toLocaleDateString(\"en-GB\") }}\r\n      </b-table-column>\r\n      <template #empty>\r\n        <empty-state\r\n          image-src=\"https://res.cloudinary.com/dml8e1w0z/image/upload/v1622949906/oop-learning-helper/empty_user_f0dwfl.png\"\r\n          text=\"Chưa có quản lí nào\"\r\n        />\r\n      </template>\r\n      <template v-if=\"!isTableEmpty\" #footer>\r\n        <div>\r\n          <span class=\"has-text-grey\">Số lượng kết quả: </span>\r\n          <span class=\"has-text-weight-bold\">{{ totalCount }}</span>\r\n        </div>\r\n      </template>\r\n    </b-table>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"ManagerTable\",\r\n  components: {\r\n    \"empty-state\": () => import(\"@/components/empty-state.vue\")\r\n  },\r\n  props: {\r\n    searchOptions: {\r\n      type: Object,\r\n      default: () => {}\r\n    }\r\n  },\r\n  inject: [\"$api_findManagers\"],\r\n  data: () => ({\r\n    ACTIONS: [],\r\n    managers: [],\r\n    itemsPerPage: 6,\r\n    totalCount: 0,\r\n    page: 1,\r\n    sorter: {\r\n      sort_by: \"time\",\r\n      order: -1\r\n    },\r\n    actionHandler: [],\r\n    showModal: false,\r\n    selectedManager: null,\r\n    loading: false,\r\n    selected: {}\r\n  }),\r\n  mounted: function() {\r\n    this.$_loadAsyncData();\r\n  },\r\n  computed: {\r\n    selectedId() {\r\n      return this.selectedManager?.manager_id;\r\n    },\r\n    isRowSelected() {\r\n      return this.selectedManager !== null;\r\n    },\r\n    isTableEmpty() {\r\n      return this.managers.length === 0;\r\n    }\r\n  },\r\n  watch: {\r\n    selectedManager(val) {\r\n      this.$emit(\"selected\", val);\r\n    },\r\n    managers: function() {\r\n      this.selectedManager = null;\r\n    },\r\n    searchOptions(val) {\r\n      this.$_loadAsyncData();\r\n    }\r\n  },\r\n  methods: {\r\n    $on_rowClicked(row) {\r\n      if (row.manager_id === this.selectedId) {\r\n        this.selectedManager = null;\r\n      }\r\n    },\r\n    $on_pageChanged(page) {\r\n      this.page = page;\r\n      this.$_loadAsyncData();\r\n    },\r\n    $on_sort(field, order) {\r\n      this.sorter[\"sort_by\"] = field;\r\n      this.sorter.sort_order = order;\r\n      this.$_loadAsyncData();\r\n    },\r\n    $_loadAsyncData() {\r\n      let search = {\r\n        ...this.searchOptions,\r\n        ...this.sorter,\r\n        page: this.page\r\n      };\r\n      this.$api_findManagers(search).then(result => {\r\n        const { error, data } = result;\r\n        if (error) {\r\n          return;\r\n        }\r\n        this.$_updateData(data);\r\n      });\r\n    },\r\n    $_updateData(data) {\r\n      const { total_count, results } = data;\r\n      this.totalCount = total_count;\r\n      this.managers.length = 0;\r\n      this.managers.push(\r\n        ...results.map((result, index) => {\r\n          result.id = index + 1;\r\n          return result;\r\n        })\r\n      );\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n.custom-table-header {\r\n  border-top: none;\r\n  border-left: none;\r\n  border-right: none;\r\n}\r\n\r\n.b-table {\r\n  tr {\r\n    th.checkbox-cell {\r\n      background: $grey-lighter;\r\n    }\r\n  }\r\n}\r\n\r\n.custom-row-class {\r\n  &:hover {\r\n    cursor: pointer;\r\n  }\r\n}\r\n\r\n.tooltip-section {\r\n  display: flex;\r\n  justify-content: flex-end;\r\n  .b-tooltip {\r\n    margin-bottom: 0.5rem;\r\n\r\n    &:not(:last-child) {\r\n      margin-right: 0.5rem;\r\n    }\r\n  }\r\n}\r\n\r\n.is-vertical-middle {\r\n  vertical-align: middle;\r\n}\r\n</style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./manager-table.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./manager-table.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./manager-table.vue?vue&type=template&id=fe6f2aae&scoped=true&\"\nimport script from \"./manager-table.vue?vue&type=script&lang=js&\"\nexport * from \"./manager-table.vue?vue&type=script&lang=js&\"\nimport style0 from \"./manager-table.vue?vue&type=style&index=0&id=fe6f2aae&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"fe6f2aae\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}