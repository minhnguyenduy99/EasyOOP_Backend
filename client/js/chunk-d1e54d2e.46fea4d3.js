(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d1e54d2e"],{"25f0":function(e,t,n){"use strict";var i=n("6eeb"),r=n("825a"),s=n("d039"),a=n("ad6d"),d="toString",o=RegExp.prototype,c=o[d],l=s((function(){return"/a/b"!=c.call({source:"a",flags:"b"})})),u=c.name!=d;(l||u)&&i(RegExp.prototype,d,(function(){var e=r(this),t=String(e.source),n=e.flags,i=String(void 0===n&&e instanceof RegExp&&!("flags"in o)?a.call(e):n);return"/"+t+"/"+i}),{unsafe:!0})},"2a89":function(e,t,n){},"4d63":function(e,t,n){var i=n("83ab"),r=n("da84"),s=n("94ca"),a=n("7156"),d=n("9bf2").f,o=n("241c").f,c=n("44e7"),l=n("ad6d"),u=n("9f7f"),f=n("6eeb"),h=n("d039"),p=n("69f3").set,v=n("2626"),x=n("b622"),g=x("match"),T=r.RegExp,m=T.prototype,y=/a/g,b=/a/g,E=new T(y)!==y,I=u.UNSUPPORTED_Y,w=i&&s("RegExp",!E||I||h((function(){return b[g]=!1,T(y)!=y||T(b)==b||"/a/i"!=T(y,"i")})));if(w){var _=function(e,t){var n,i=this instanceof _,r=c(e),s=void 0===t;if(!i&&r&&e.constructor===_&&s)return e;E?r&&!s&&(e=e.source):e instanceof _&&(s&&(t=l.call(e)),e=e.source),I&&(n=!!t&&t.indexOf("y")>-1,n&&(t=t.replace(/y/g,"")));var d=a(E?new T(e,t):T(e,t),i?this:m,_);return I&&n&&p(d,{sticky:n}),d},N=function(e){e in _||d(_,e,{configurable:!0,get:function(){return T[e]},set:function(t){T[e]=t}})},C=o(T),L=0;while(C.length>L)N(C[L++]);m.constructor=_,_.prototype=m,f(r,"RegExp",_)}v("RegExp")},8436:function(e,t,n){"use strict";n("2a89")},b5fd:function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"post-preview-index"},[n("div",{staticClass:"mb-4"},[n("span",{staticClass:"is-size-4 has-text-grey has-text-weight-bold"},[e._v(e._s(e.title))])]),n("div",{ref:"index-tree"}),e.isIndexTreeEmpty?n("div",[e._t("empty-state",[n("span",{staticClass:"is-size-5"},[e._v(e._s(e.emptyText))])])],2):e._e()])},r=[],s=(n("d81d"),n("1276"),n("ac1f"),n("b64b"),n("4d63"),n("25f0"),n("159b"),"data-v-md-line"),a={name:"PostPreviewIndex",props:{title:{type:String,required:!1,default:function(){return"Index"}},html:String,allowLevels:{type:String,default:function(){return"h2 h3"}},emptyText:{type:String,default:function(){return"There is no index set up"}},anchorClass:{type:String,default:function(){return"index-anchor"}}},data:function(){return{DEFAULT_INDENTATION:1,indexTree:{},levels:[]}},created:function(){this.levels=this.allowLevels.split(" ").map((function(e){return parseInt(e[1])}))},mounted:function(){this.indexTree=this.createIndex(),this.$on_renderIndexTree()},watch:{html:function(e){if(!e)return delete this.indexTree,void(this.indexTree={});this.indexTree=this.createIndex(),this.$on_renderIndexTree()}},computed:{isIndexTreeEmpty:function(){return 0===Object.keys(this.indexTree).length}},methods:{$on_renderIndexTree:function(){var e=this.$refs["index-tree"];while(e.firstChild)e.removeChild(e.firstChild);this.createHTMLTree()},createIndex:function(){var e=document.createElement("div");e.innerHTML=this.html;var t=null===e||void 0===e?void 0:e.childNodes;if(!t)return{};var n=[];n.push({index:0,list:[]});var i=this.levels.reduce((function(e,t){return e+t}),""),r=RegExp("^H[".concat(i,"]$"),"g");return t.forEach((function(e){var t=null===e||void 0===e?void 0:e.tagName;if(r.test(t)){var i=parseInt(t[1]),a=n[n.length-1];while(i<=a.tagType&&n.length>1)n.pop(),a=n[n.length-1];var d={tagType:i,title:e.textContent,lineIndex:e.getAttribute(s),list:[]};a.list.push(d),n.push(d)}})),n[0].list},createHTMLTree:function(){var e=this;this.indexTree.forEach((function(t){e.addNodes(t)}))},addNodes:function(e){var t=this;if(e){var n=e.tagType,i=e.title,r=e.list,a=e.lineIndex,d=this.DEFAULT_INDENTATION*(n-this.levels[0]);if(!(d<0)){var o=document.createElement("a");o.text=i,o.style.marginLeft="".concat(d,"rem"),o.style.marginBottom="8px",o.style.display="block",o.classList.add(this.anchorClass),o.setAttribute(s,a),o.addEventListener("click",function(){this.$emit("index-clicked",a)}.bind(this)),this.$refs["index-tree"].appendChild(o),r&&0!==r.length&&r.forEach((function(e){t.addNodes(e)}))}}}}},d=a,o=(n("8436"),n("2877")),c=Object(o["a"])(d,i,r,!1,null,null,null);t["default"]=c.exports}}]);
//# sourceMappingURL=chunk-d1e54d2e.46fea4d3.js.map