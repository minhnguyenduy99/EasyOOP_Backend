(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-75f57be6"],{"0354":function(t,e,s){"use strict";s.r(e);var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"panel is-primary-light test-result-info"},[s("p",{staticClass:"panel-heading has-text-centered"},[t._v(" KẾT QUẢ ")]),s("div",{staticClass:"p-3 ha-vertical-layout-6"},[s("div",{staticClass:"ha-vertical-layout-6 py-3"},[s("div",{staticClass:"test-field"},[s("span",{staticClass:"test-field-label"},[t._v("Số lượng câu đúng ")]),s("span",{staticClass:"test-field-value"},[t._v(t._s(t.correctSentenceText))])]),s("div",{staticClass:"test-field"},[s("span",{staticClass:"test-field-label"},[t._v("Số điểm đạt được ")]),s("span",{staticClass:"test-field-value"},[t._v(t._s(t.obtainedScoreText))])])]),s("div",{staticClass:"buttons is-justify-content-space-between"},[s("b-button",{attrs:{"icon-left":t.saved?"check":null,type:"is-primary",disabled:t.saved,loading:t.saveButtonLoading},on:{click:t.$on_saveResultButtonClicked}},[t._v(t._s(t.saved?"Đã lưu":"Lưu kết quả"))]),s("b-button",{attrs:{type:"is-primary",outlined:"",tag:"router-link",to:{name:"PersonalTestResults"}}},[t._v("Danh sách kết quả")])],1),s("hr"),s("sentence-order-panel",{attrs:{answers:t.testResult.results,buttonType:t.$_buttonTypeHandler},on:{selected:t.$on_sentenceSelected}})],1),t.isAuthenticated?t._e():s("b-modal",{model:{value:t.showLoginModal,callback:function(e){t.showLoginModal=e},expression:"showLoginModal"}},[[s("modal-form",{attrs:{title:"Đăng nhập","has-card":""}},[s("login-form")],1)]],2)],1)},a=[],i=s("5530"),o=(s("d3b7"),s("3ca3"),s("ddb0"),s("a9e3"),s("99af"),s("2f62")),r=s("ed08"),c=s("cc7d"),u={name:"TestResultInfo",components:{"sentence-order-panel":function(){return s.e("chunk-3fa8713e").then(s.bind(null,"a549"))},"login-form":function(){return Promise.all([s.e("chunk-2a303700"),s.e("chunk-210ea2fa")]).then(s.bind(null,"72f7"))},"modal-form":function(){return s.e("chunk-2a303700").then(s.bind(null,"5d04"))}},mixins:[Object(c["a"])()],inject:["$_navigateToPage","$p_showLoginModal"],props:{testResult:{type:Object,default:function(){return null}},sessionId:{type:String,default:function(){return null}},selectedOrder:Number},data:function(){return{showLoginModal:!1,saved:!1,saveButtonLoading:!1}},computed:Object(i["a"])(Object(i["a"])(Object(i["a"])({},Object(o["c"])("VIEWER_TEST",["answerGroups","sentencesPerGroup","pageOfSentence","currentPage","totalAnswers"])),Object(o["c"])("AUTH",["isAuthenticated"])),{},{correctSentenceText:function(){var t=this.testResult,e=t.total_sentence_count,s=t.correct_answer_count;return"".concat(s," / ").concat(e)},obtainedScoreText:function(){var t=this.testResult,e=t.obtained_score,s=t.total_score;return"".concat(e," / ").concat(s)},hasSession:function(){return!!this.sessionId}}),watch:{testResult:function(t){t&&this.$_mappingAnswers()},isAuthenticated:function(t){t&&this.$on_saveResultButtonClicked()}},methods:Object(i["a"])(Object(i["a"])({},Object(o["b"])("VIEWER_TEST",["viewer_createTestResult","viewer_createTestResultBySession"])),{},{$on_sentenceSelected:function(t){var e=this,s=this.pageOfSentence(t);s!==this.currentPage?this.$_navigateToPage(s).then((function(){e.$nextTick((function(){e.$emit("update:selectedOrder",t)}))})):this.$emit("update:selectedOrder",t)},$on_navigateToResultsPage:function(){this.$router.push({name:"PersonalTestResults"})},$on_saveResultButtonClicked:function(){if(this.isAuthenticated)return this.hasSession?void this.$_saveTestResultBySession():void this.$_saveTestResult();this.$p_showLoginModal()},$_buttonTypeHandler:function(t,e){var s=t.answer,n=t.user_answer;t.answered;return-1===n?"is-light":s===n?"is-success":"is-danger"},$_saveTestResult:function(){var t=this;if(!this.saved){this.saveButtonLoading=!0;var e=this.testResult,s=e.test_id,n=e.results;this.viewer_createTestResult({test_id:s,results:n,save:!0}).then((function(e){t.saveButtonLoading=!1;var s=e.error;s||(t.saved=!0,r["d"].success(t.$buefy.toast,"Lưu kết quả thành công"),t.$emit("result-saved"))}))}},$_saveTestResultBySession:function(){var t=this;this.saved||(this.saveButtonLoading=!0,this.viewer_createTestResultBySession({session_id:this.sessionId}).then((function(e){t.saveButtonLoading=!1;var s=e.error;s||(t.saved=!0,r["d"].success(t.$buefy.toast,"Lưu kết quả thành công"),t.$emit("result-saved"))})))}})},l=u,d=(s("fe5b"),s("2877")),h=Object(d["a"])(l,n,a,!1,null,"2738ecba",null);e["default"]=h.exports},2909:function(t,e,s){"use strict";s.d(e,"a",(function(){return c}));var n=s("6b75");function a(t){if(Array.isArray(t))return Object(n["a"])(t)}s("a4d3"),s("e01a"),s("d3b7"),s("d28b"),s("3ca3"),s("ddb0"),s("a630");function i(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}var o=s("06c5");function r(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(t){return a(t)||i(t)||Object(o["a"])(t)||r()}},"856c":function(t,e,s){},fe5b:function(t,e,s){"use strict";s("856c")}}]);
//# sourceMappingURL=chunk-75f57be6.5aacd436.js.map