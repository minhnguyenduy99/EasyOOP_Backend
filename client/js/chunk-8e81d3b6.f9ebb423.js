(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-8e81d3b6"],{"0578":function(t,e,n){},"0cb2":function(t,e,n){var i=n("7b0b"),r=Math.floor,a="".replace,o=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,s=/\$([$&'`]|\d{1,2})/g;t.exports=function(t,e,n,c,u,l){var d=n+t.length,p=c.length,_=s;return void 0!==u&&(u=i(u),_=o),a.call(l,_,(function(i,a){var o;switch(a.charAt(0)){case"$":return"$";case"&":return t;case"`":return e.slice(0,n);case"'":return e.slice(d);case"<":o=u[a.slice(1,-1)];break;default:var s=+a;if(0===s)return i;if(s>p){var l=r(s/10);return 0===l?i:l<=p?void 0===c[l-1]?a.charAt(1):c[l-1]+a.charAt(1):i}o=c[s-1]}return void 0===o?"":o}))}},2215:function(t,e,n){"use strict";n("0578")},2909:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var i=n("6b75");function r(t){if(Array.isArray(t))return Object(i["a"])(t)}n("a4d3"),n("e01a"),n("d3b7"),n("d28b"),n("3ca3"),n("ddb0"),n("a630");function a(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}var o=n("06c5");function s(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(t){return r(t)||a(t)||Object(o["a"])(t)||s()}},5319:function(t,e,n){"use strict";var i=n("d784"),r=n("825a"),a=n("50c4"),o=n("a691"),s=n("1d80"),c=n("8aa5"),u=n("0cb2"),l=n("14c3"),d=Math.max,p=Math.min,_=function(t){return void 0===t?t:String(t)};i("replace",2,(function(t,e,n,i){var h=i.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,f=i.REPLACE_KEEPS_$0,m=h?"$":"$0";return[function(n,i){var r=s(this),a=void 0==n?void 0:n[t];return void 0!==a?a.call(n,r,i):e.call(String(r),n,i)},function(t,i){if(!h&&f||"string"===typeof i&&-1===i.indexOf(m)){var s=n(e,t,this,i);if(s.done)return s.value}var b=r(t),g=String(this),v="function"===typeof i;v||(i=String(i));var w=b.global;if(w){var k=b.unicode;b.lastIndex=0}var P=[];while(1){var y=l(b,g);if(null===y)break;if(P.push(y),!w)break;var O=String(y[0]);""===O&&(b.lastIndex=c(g,a(b.lastIndex),k))}for(var C="",T=0,$=0;$<P.length;$++){y=P[$];for(var x=String(y[0]),I=d(p(o(y.index),g.length),0),S=[],j=1;j<y.length;j++)S.push(_(y[j]));var A=y.groups;if(v){var E=[x].concat(S,I,g);void 0!==A&&E.push(A);var B=String(i.apply(void 0,E))}else B=u(x,g,I,S,A,i);I>=T&&(C+=g.slice(T,I)+B,T=I+x.length)}return C+g.slice(T)}]}))},f4d6:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"create-post-page"}},[n("admin-content",{attrs:{title:t.title,icon:"pencil-alt",iconPack:"fas"}},[t.initialPost?n("breadcrumb",{attrs:{titles:t.breadcumbInfo,active:2}}):t._e(),t.initialPost?n("edit-post-form",{staticClass:"mb-5",attrs:{post:t.initialPost},scopedSlots:t._u([{key:"submit",fn:function(e){var i=e.form,r=e.detailedForm,a=e.validator;return[n("div",{attrs:{id:"submit-button-group"}},[n("b-button",{staticClass:"--submit",attrs:{type:"is-primary is-dark"},on:{click:function(e){return t.$on_submitForm(i,a)}}},[t._v("Cập nhật")]),n("b-button",{staticClass:"--preview",attrs:{type:"is-primary-dark",outlined:"","icon-left":"eye"},on:{click:function(e){return t.$on_previewButtonClicked(r)}}},[t._v("Xem trước")])],1)]}}],null,!1,1435519180)}):t._e(),n("v-md-editor",{attrs:{height:"600px"},model:{value:t.postContent,callback:function(e){t.postContent=e},expression:"postContent"}})],1),n("b-modal",{attrs:{scroll:"keep"},model:{value:t.showModal,callback:function(e){t.showModal=e},expression:"showModal"}},[n("div",{staticClass:"card is-page-responsive py-6",attrs:{id:"preview-container"}},[n("post-preview",{attrs:{useUrl:!1,postContent:t.postContent}})],1)]),n("b-loading",{attrs:{"is-full-page":!0,"can-cancel":!1},model:{value:t.isLoading,callback:function(e){t.isLoading=e},expression:"isLoading"}},[n("b-icon",{attrs:{pack:"fas",icon:"sync-alt",size:"is-large","custom-class":"fa-spin"}})],1)],1)},r=[],a=n("1da1"),o=n("5530"),s=(n("96cf"),n("d3b7"),n("3ca3"),n("ddb0"),n("99af"),n("5319"),n("ac1f"),n("2f62")),c=[{topic_id:"topicid1",topic_title:"Khái niệm"},{topic_id:"topicid2",topic_title:"Nguyên lí SOLID"},{topic_id:"topicid3",topic_title:"Phương pháp xây dựng class"}],u=[{post_id:"post_id",post_title:"Học OOP như thế nào ? ejgkeljgegjleg etg44 4 t45467g ",topic_title:"CƠ BẢN",topic_id:"topicid1",tags:["Tag A","Tag B"],thumbnail_file_url:"https://upload.wikimedia.org/wikipedia/commons/thumb/b/b6/Image_created_with_a_mobile_phone.png/1200px-Image_created_with_a_mobile_phone.png",content_file_url:"https://res.cloudinary.com/dml8e1w0z/raw/upload/v1615426502/POSTS/kbszppsvvcdvp1vivrtd_1612541037802__2__1615426501680",created_date:Date.now(),previous_post_id:null},{post_id:"post_id",post_title:"Học OOP như thế nào ?",topic_id:"topicid1",topic_title:"CƠ BẢN",tags:["Tag A","Tag B"],thumbnail_file_url:"https://upload.wikimedia.org/wikipedia/commons/thumb/b/b6/Image_created_with_a_mobile_phone.png/1200px-Image_created_with_a_mobile_phone.png",content_file_url:"https://res.cloudinary.com/dml8e1w0z/raw/upload/v1615426502/POSTS/kbszppsvvcdvp1vivrtd_1612541037802__2__1615426501680",created_date:Date.now(),previous_post_id:null},{post_id:"post_id",post_title:"Học OOP như thế nào ?",topic_id:"topicid1",topic_title:"CƠ BẢN",tags:["Tag A","Tag B"],thumbnail_file_url:"https://upload.wikimedia.org/wikipedia/commons/thumb/b/b6/Image_created_with_a_mobile_phone.png/1200px-Image_created_with_a_mobile_phone.png",content_file_url:"https://res.cloudinary.com/dml8e1w0z/raw/upload/v1615426502/POSTS/kbszppsvvcdvp1vivrtd_1612541037802__2__1615426501680",created_date:Date.now(),previous_post_id:null},{post_id:"post_id",post_title:"Học OOP như thế nào ?",topic_id:"topicid1",topic_title:"CƠ BẢN",tags:["Tag A","Tag B"],thumbnail_file_url:"https://upload.wikimedia.org/wikipedia/commons/thumb/b/b6/Image_created_with_a_mobile_phone.png/1200px-Image_created_with_a_mobile_phone.png",content_file_url:"https://res.cloudinary.com/dml8e1w0z/raw/upload/v1615426502/POSTS/kbszppsvvcdvp1vivrtd_1612541037802__2__1615426501680",created_date:Date.now(),previous_post_id:null}],l=[{tag_id:"tagida",tag_value:"tag A"},{tag_id:"tagidb",tag_value:"tag B"},{tag_id:"tagidc",tag_value:"tag C"}],d=n("ed08"),p={name:"EditPostPage",components:{"admin-content":function(){return n.e("chunk-193a4f2c").then(n.bind(null,"8e2f"))},"edit-post-form":function(){return Promise.all([n.e("chunk-2a303700"),n.e("chunk-932ac754"),n.e("chunk-210ea2fa"),n.e("chunk-072e95f0"),n.e("chunk-319dc88e")]).then(n.bind(null,"7b21"))},"post-preview":function(){return n.e("chunk-072e95f0").then(n.bind(null,"4625"))},breadcrumb:function(){return Promise.resolve().then(n.bind(null,"290e"))}},metaInfo:function(){var t,e="".concat(null===(t=this.initialPost)||void 0===t?void 0:t.post_title," | Cập nhật bài viết - ").concat(this.$appConfig.VUE_APP_NAME);return{title:e}},props:{postId:String},provide:function(){return{$api_findTopics:this.creator_getAvailableTopics,$api_findPosts:this.getPosts,$api_findTags:this.searchPostTags}},data:function(){return{title:"Cập nhật bài viết",postContent:"",post:null,showModal:!1,isLoading:!1,initialPost:null}},mounted:function(){var t=this;this.getPostById(this.postId).then((function(e){var n=e.error,i=e.data;n||(t.initialPost=i)}))},watch:{initialPost:function(t){var e=this;t&&fetch(t.content_file_url).then((function(t){return t.text()})).then((function(t){e.postContent=t}))}},computed:{breadcumbInfo:function(){return[{value:"Bài viết",to:{name:"Dashboard"}},{value:this.initialPost.post_title,to:{name:"AdminPostDetail",params:{post_id:this.initialPost.post_id}}},{value:"Cập nhật"}]}},methods:Object(o["a"])(Object(o["a"])({},Object(s["b"])("POST",["getPostById","creator_getAvailableTopics","searchPostTags","getPosts","creator_updatePost"])),{},{$on_previewButtonClicked:function(t){this.showModal=!0,t.fullContent=this.postContent,this.post=t},$on_submitForm:function(t,e){var n=this;return Object(a["a"])(regeneratorRuntime.mark((function i(){var r,a;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(n.postContent){i.next=3;break}return d["e"].error(n.$buefy.toast,"Nội dung không thể trống"),i.abrupt("return");case 3:return i.next=5,e.validate();case 5:if(r=i.sent,r){i.next=8;break}return i.abrupt("return");case 8:n.isLoading=!0,a=n.$_sanitizeFormData(t),n.creator_updatePost({postId:n.postId,data:a}).then((function(t){var e=t.error;n.isLoading=!1,e?n.validator.setErrors({general:[e]}):(d["e"].success(n.$buefy.toast,"Tạo bài viết thành công"),setTimeout(function(){this.$router.push({name:"Dashboard"})}.bind(n),1e3))}));case 11:case"end":return i.stop()}}),i)})))()},$mock_findTopics:function(){return Object(a["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",{data:c});case 1:case"end":return t.stop()}}),t)})))()},$mock_findPosts:function(){return Object(a["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",{data:{results:u}});case 1:case"end":return t.stop()}}),t)})))()},$mock_editPost:function(t,e){return Object(a["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",{error:null});case 1:case"end":return t.stop()}}),t)})))()},$mock_findTags:function(t,e){return Object(a["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",{data:l});case 1:case"end":return t.stop()}}),t)})))()},$mock_getPostById:function(t){return Object(a["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",{data:u[0]});case 1:case"end":return t.stop()}}),t)})))()},$_sanitizeFormData:function(t){var e="".concat(t.post_title.replace(" ","_"),"_").concat(Date.now()),n=d["b"].toFileFromObject(this.postContent,e),i=Object(o["a"])(Object(o["a"])({},t),{},{content_file:n});return i}})},_=p,h=(n("2215"),n("2877")),f=Object(h["a"])(_,i,r,!1,null,"77005a6e",null);e["default"]=f.exports}}]);
//# sourceMappingURL=chunk-8e81d3b6.f9ebb423.js.map