(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6e20a8aa"],{"19d2":function(t,e,a){},2909:function(t,e,a){"use strict";a.d(e,"a",(function(){return l}));var n=a("6b75");function s(t){if(Array.isArray(t))return Object(n["a"])(t)}a("a4d3"),a("e01a"),a("d3b7"),a("d28b"),a("3ca3"),a("ddb0"),a("a630");function r(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}var o=a("06c5");function i(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function l(t){return s(t)||r(t)||Object(o["a"])(t)||i()}},3348:function(t,e,a){"use strict";a("19d2")},"59d2":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"test-result-table"}},[a("b-table",{ref:"table",attrs:{data:t.results,paginated:"","pagination-position":"top",hoverable:"","pagination-rounded":"",loading:t.loading,"pagination-size":"is-small","per-page":t.itemsPerPage,total:t.totalCount,"backend-pagination":"","row-class":function(t,e){return"is-clickable row--middle"},"backend-sorting":""},on:{"page-change":t.$on_pageChanged,sort:t.$on_sort},scopedSlots:t._u([{key:"empty",fn:function(){return[a("empty-state",{attrs:{"image-src":"https://res.cloudinary.com/dml8e1w0z/image/upload/v1622949906/oop-learning-helper/empty_test_rbkyrn.png",text:"Bạn chưa làm bài test nào"}})]},proxy:!0},{key:"footer",fn:function(){return[a("div",[a("span",{staticClass:"has-text-grey"},[t._v("Số lượng kết quả: ")]),a("span",{staticClass:"has-text-weight-bold"},[t._v(t._s(t.totalCount))])])]},proxy:!0}])},[a("b-table-column",{attrs:{label:"ID",width:"20","header-class":"has-text-left"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.row;return[a("b-dropdown",{scopedSlots:t._u([{key:"trigger",fn:function(e){var s=e.active;return[a("b-button",{staticClass:"has-text-weight-bold",attrs:{outlined:"",rounded:"",size:"is-small","icon-pack":"fas",type:"is-primary","icon-right":s?"chevron-up":"chevron-down"}},[t._v(" "+t._s(n.result_id)+" ")])]}}],null,!0)},t._l(t.actionMenus,(function(e){return a("b-dropdown-item",{key:e.id,staticClass:"p-3",attrs:{paddingless:""}},[a("router-link",{staticClass:"media is-align-items-center",attrs:{to:e.to(n)}},[a("b-icon",{staticClass:"media-left",attrs:{icon:e.icon}}),a("div",{staticClass:"media-content"},[a("h3",[t._v(" "+t._s(e.text)+" ")])])],1)],1)})),1)]}}])}),a("b-table-column",{attrs:{label:"Tên bài test",width:"300","cell-class":"row--middle"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.row;return[a("span",{staticClass:"has-text-weight-bold"},[t._v(" "+t._s(n.title)+" ")])]}}])}),a("b-table-column",{attrs:{label:"Số lượng",numeric:"",width:"150px",field:"total_count"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.row,s=n.total_sentence_count,r=n.correct_answer_count;return[a("span",{staticClass:"has-text-weight-bold has-text-primary-dark"},[t._v(" "+t._s(r)+" / "+t._s(s)+" ")])]}}])}),a("b-table-column",{attrs:{label:"Điểm số",sortable:"",centered:"",field:"obtained_score",width:"120px","cell-class":"row--middle"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.row,s=n.obtained_score,r=n.total_score;return[a("b-tag",{staticClass:"has-text-weight-bold",attrs:{type:"is-success",size:"is-medium"}},[t._v(" "+t._s(s)+" / "+t._s(r)+" ")])]}}])}),a("b-table-column",{attrs:{label:"Ngày làm",sortable:"",centered:"",field:"created_date"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.row;return[a("span",[t._v(" "+t._s(new Date(n.created_date).toLocaleDateString("en-GB"))+" ")])]}}])})],1)],1)},s=[],r=a("2909"),o=a("1da1"),i=a("5530"),l=(a("96cf"),a("d3b7"),a("3ca3"),a("ddb0"),a("d81d"),a("2f62")),c={name:"PersonalTestResultTable",components:{"empty-state":function(){return a.e("chunk-01f92af0").then(a.bind(null,"86d8"))}},data:function(){return{actionMenus:[{icon:"info-circle",text:"Xem kết quả",to:function(t){return{name:"TestResultInfoPage",params:{result_id:t.result_id}}}},{icon:"pen-alt",text:"Làm lại",to:function(t){return{name:"TestDetailPage",params:{test_id:t.test_id}}}}],itemsPerPage:10,totalCount:0,results:[],selectedData:null,page:1,featureHandler:[],showModal:!1,loading:!1,openedDetailedRows:[],sortOptions:{sort_by:"created_date",sort_order:-1}}},created:function(){this.$_loadAsyncData()},computed:{selectedDataId:function(){var t;return null===(t=this.selectedData)||void 0===t?void 0:t.result_id},isRowSelected:function(){return null!==this.selectedData},_table:function(){return this.$refs.table}},watch:{results:function(){this.selectedData=null}},methods:Object(i["a"])(Object(i["a"])({},Object(l["b"])("TEST",["viewer_searchTestResults"])),{},{$on_rowClicked:function(t){this._table.closeDetailRow(t),this.selectedDataId!==t.result_id?this._table.openDetailRow(t):this.selectedData=null},$on_sort:function(t,e){this.sortOptions.sort_by=t,this.sortOptions.sort_order="asc"===e?1:-1,this.$_loadAsyncData()},$on_pageChanged:function(t){this.page=t,this.$_loadAsyncData()},$_loadAsyncData:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.loading=!0,a=Object(i["a"])({page:t.page},t.sortOptions),t.viewer_searchTestResults(a).then((function(e){var a=e.error,n=e.data;a||(t.$_updateData(n),t.loading=!1)}));case 3:case"end":return e.stop()}}),e)})))()},$_updateData:function(t){var e,a=t.total_count,n=t.results;this.totalCount=a,this.results.length=0,(e=this.results).push.apply(e,Object(r["a"])(n.map((function(t,e){return t.id=e+1,t}))))},$_getTestLink:function(t){return{name:"TestDetailPage",params:{test_id:t}}}})},u=c,d=(a("3348"),a("2877")),p=Object(d["a"])(u,n,s,!1,null,"e0b69fee",null);e["default"]=p.exports}}]);
//# sourceMappingURL=chunk-6e20a8aa.bf4dd1a2.js.map